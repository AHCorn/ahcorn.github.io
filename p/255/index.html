<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Nexmoe移植记录 - 安和Blog</title>
    <link rel="stylesheet" href="/css/jianhe.css?v=1736334510">
    <link rel="stylesheet" href="/css/1.0.css?v=1736334510">
    <link rel="stylesheet" href="/css/timeline.css?v=1736334510">
    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/devicons/devicon@latest/devicon.min.css">
    
    
    
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.26.0/themes/prism-okaidia.min.css">
    <link rel="stylesheet" href="/css/post.css?v=1736334510">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@4.0/dist/fancybox.css"/>
    <script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@4.0/dist/fancybox.umd.js"></script>
    
    <style>
        body {
            text-shadow: black 0.1em 0.1em 0.2em;
            margin: 0;
            padding: 0;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            background-color: #262525;
        }
        .main {
            flex: 1;
            background-color: #262525;
            display: flex;
            justify-content: center;
        }
        .main-container {
            width: 100%;
            max-width: 1400px;
            margin: 0 auto;
            padding-right: 20px;
            padding-left:20px;
        }
        .boxa {
            display: flex;
            position: relative;
            margin-top: 20px;
        }
        .sidebar-container {
            width: 170px;
            flex-shrink: 0;
            padding-top: 60px;
        }
        .sidebar {
            position: sticky;
            top: 20px;
            width: 100%;
        }
        .box {
            flex: 1;
            margin: 0 !important;
            padding-left: 20px;
            max-width: calc(100% - 150px);
        }
        @media (max-width: 1024px) {
            .sidebar-container {
                display: none;
            }
            .box {
                max-width: 100%;
                padding-left: 0;
            }
            .pctitle {
                display: none !important;
            }
            .peside {
                display: block !important;
            }
            .tag-list {
                text-align: left;
            }
            .tag-list a {
                display: inline-block !important;
                margin-right: 10px;
                padding: 5px;
            }
            .social-links {
                justify-content: flex-start;
            }
        }
        @media (min-width: 1025px) {
            .peside {
                display: none !important;
            }
            .pctitle {
                display: block !important;
            }
            .tag-list a {
                display: block;
            }
        }
        @media (max-width: 768px) {
            .main {
                padding: 0;
            }
            .main-container {
                padding: 0 10px;
            }
        }
         
        .box {
            margin-right: 0 !important;
        }
        @media only screen and (max-width: 1500px) {
            .box {
                margin-right: 0 !important;
            }
        }
        @media only screen and (max-width: 1000px) {
            .box {
                margin-right: 0 !important;
            }
        }
        @media only screen and (max-width: 650px) {
            .box {
                margin-right: 0 !important;
            }
        }
        .social-links {
            margin: 25px 0;
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }
        .social-link {
            display: flex;
            align-items: center;
            color: rgba(255, 255, 255, 0.9) !important;
            text-decoration: none;
            transition: all 0.3s ease;
            font-size: 0.95em;
            padding: 6px 12px;
            border-radius: 15px;
            background: rgba(255, 255, 255, 0.1);
            font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
        }
        .social-link:hover {
            color: #fff !important;
            background: rgba(255, 255, 255, 0.15);
            transform: translateY(-2px);
        }
        .social-link i {
            margin-right: 8px;
            font-size: 1.1em;
        }
        @media (max-width: 650px) {
            .social-links {
                justify-content: flex-start;
            }
        }
        .peside {
            width: 100%;
        }
        .cardshow {
            width: 100%;
            margin-bottom: 20px;
        }
        @media only screen and (max-width: 8000px) {
            .cardboxshow {
                float: left;
                width: calc(50% - 10px);
            }
            .cardboxshow:nth-child(2n) {
                margin-right: 0;
            }
            .cardboxshow:nth-child(2n+1) {
                clear: both;
            }
        }
        @media only screen and (max-width: 1024px) {
            .cardboxshow {
                float: none;
                width: 100%;
                margin-right: 0;
            }
        }
        .lazyloaded {
            opacity: 1 !important;
            min-height: 200px;
            position: relative;
            background-size: cover;
            border-radius: 15px;
        }
        .titlecard {
            background: rgba(0, 0, 0, 0.5);
            padding: 20px;
            border-radius: 15px;
            color: #fff;
        }
        .titlecard a {
            text-decoration: none;
            color: #fff !important;
        }
        .titlecard a:hover {
            color: rgba(255, 255, 255, 0.8) !important;
        }
        .titlecard hr {
            border: none;
            border-top: 1px solid rgba(255, 255, 255, 0.2);
            margin: 15px 0;
        }
        .petitle {
            display: block !important;
        }
        .petitle h1 {
            margin: 0;
        }
        .petitle p {
            margin: 10px 0;
            opacity: 0.8;
        }
        .tag-list {
            margin-top: 15px;
        }
        .tag-list a {
            color: rgba(255, 255, 255, 0.8) !important;
            text-decoration: none;
            padding: 5px 0;
            transition: color 0.3s ease;
        }
        .tag-list a:hover {
            color: #fff !important;
        }
    </style>
    
</head>
<body>
    <div class="main">
        <div class="main-container">
            <div class="peside">
                <div class="cardshow">
                    <div class="lazyloaded" style="background: url(https://i.imgtg.com/2022/06/12/1Q5qD.jpg) no-repeat center;background-size: cover;border-radius: 15px;transition: opacity .4s ease-out;opacity: 0;">
                        <div class="titlecard">
                            <a href="https://blog.anhe.one">
                                <div class="petitle">
                                    <h1>安和Blog</h1>
                                    <p>看似寻常最奇崛，成如容易却艰辛。</p>
                                </div>
                            </a>
                            <div class="social-links">
                                
                                <a href="https://github.com/AHCorn" class="social-link" target="_blank">
                                    <i class="ri-github-fill"></i>
                                    <span>Github</span>
                                </a>
                                
                                
                                <a href="https://greasyfork.org/zh-CN/users/1252870-ahcorn" class="social-link" target="_blank">
                                    <i class="ri-code-box-fill"></i>
                                    <span>Greasyfork</span>
                                </a>
                                
                                
                                <a href="mailto:ayanee@protonmail.com" class="social-link">
                                    <i class="ri-mail-fill"></i>
                                    <span>Email</span>
                                </a>
                                
                            </div>
                            <hr>
                            <div class="tag-list">
                                
                                
                                
                                
                                
                                
                                <a href="https://blog.anhe.one/page/archives/">归档</a>
                                
                                
                                
                                <a href="https://blog.anhe.one/page/about/">关于</a>
                                
                                
                                
                                <a href="https://blog.anhe.one/page/search/">搜索</a>
                                
                                
                                
                                <a href="https://blog.anhe.one/page/links/">友人</a>
                                
                                
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="boxa">
                <div class="sidebar-container">
                    <div class="sidebar">
                        <div class="side-bar" style="margin-top:25px;">
    <div class="nav" style="padding-top: 5px;padding-right: 10px;padding-left: 10px;">
        <a href="https://blog.anhe.one">
            <img class="logo2" style="margin-top: 27px;" src="/images/avatar.jpg" alt="安和Blog">
            <hr>
            <div class="tag-list displaynone">
                
                
                
                
                
                
                <a href="https://blog.anhe.one/page/archives/">归档</a>
                
                
                
                <a href="https://blog.anhe.one/page/about/">关于</a>
                
                
                
                <a href="https://blog.anhe.one/page/search/">搜索</a>
                
                
                
                <a href="https://blog.anhe.one/page/links/">友人</a>
                
                
            </div>
            <hr>
            <div class="tag-list displaynone">
                
                <a href="https://blog.anhe.one/categories/acgn%E7%9F%AD%E8%AF%84/">ACGN短评</a>
                
                <a href="https://blog.anhe.one/categories/%E5%85%AC%E5%91%8A/">公告</a>
                
                <a href="https://blog.anhe.one/categories/%E6%8A%98%E8%85%BE%E6%89%8B%E6%9C%BA/">折腾手机</a>
                
                <a href="https://blog.anhe.one/categories/%E6%8A%98%E8%85%BE%E7%94%B5%E8%84%91/">折腾电脑</a>
                
                <a href="https://blog.anhe.one/categories/%E6%8A%98%E8%85%BE%E7%BD%91%E7%AB%99/">折腾网站</a>
                
                <a href="https://blog.anhe.one/categories/%E9%97%B2%E8%81%8A%E6%9D%82%E8%B0%88/">闲聊杂谈</a>
                
            </div>
        </a>
    </div>
</div>

<div class="peside">
    <div class="cardshow">
        <div class="lazyloaded" style="background: url(https://i.imgtg.com/2022/06/12/1Q5qD.jpg) no-repeat center;background-size: cover;border-radius: 15px;transition: opacity .4s ease-out;opacity: 0;">
            <div class="titlecard">
                <a href="https://blog.anhe.one">
                    <div class="petitle">
                        <h1>安和Blog</h1>
                        <p>看似寻常最奇崛，成如容易却艰辛。</p>
                    </div>
                </a>
                <hr>
                <div class="tag-list">
                    
                    
                    
                    
                    
                    
                    <a href="https://blog.anhe.one/page/archives/">归档</a>
                    
                    
                    
                    <a href="https://blog.anhe.one/page/about/">关于</a>
                    
                    
                    
                    <a href="https://blog.anhe.one/page/search/">搜索</a>
                    
                    
                    
                    <a href="https://blog.anhe.one/page/links/">友人</a>
                    
                    
                </div>
                <hr>
                <div class="tag-list displaynone">
                    
                    <a href="https://blog.anhe.one/categories/acgn%E7%9F%AD%E8%AF%84/">ACGN短评</a>
                    
                    <a href="https://blog.anhe.one/categories/%E5%85%AC%E5%91%8A/">公告</a>
                    
                    <a href="https://blog.anhe.one/categories/%E6%8A%98%E8%85%BE%E6%89%8B%E6%9C%BA/">折腾手机</a>
                    
                    <a href="https://blog.anhe.one/categories/%E6%8A%98%E8%85%BE%E7%94%B5%E8%84%91/">折腾电脑</a>
                    
                    <a href="https://blog.anhe.one/categories/%E6%8A%98%E8%85%BE%E7%BD%91%E7%AB%99/">折腾网站</a>
                    
                    <a href="https://blog.anhe.one/categories/%E9%97%B2%E8%81%8A%E6%9D%82%E8%B0%88/">闲聊杂谈</a>
                    
                </div>
            </div>
        </div>
    </div>
</div>


                    </div>
                </div>
                <div class="box">
                    <div class="pctitle">
                        <h1 style="color:#fff;margin-top:0px;margin-bottom:0px;">安和Blog</h1>
                        <p style="color:#fff; margin-top:0px;">看似寻常最奇崛，成如容易却艰辛。</p>
                        <div class="social-links">
                            
                            <a href="https://github.com/AHCorn" class="social-link" target="_blank">
                                <i class="ri-github-fill"></i>
                                <span>Github</span>
                            </a>
                            
                            
                            <a href="https://greasyfork.org/zh-CN/users/1252870-ahcorn" class="social-link" target="_blank">
                                <i class="ri-code-box-fill"></i>
                                <span>Greasyfork</span>
                            </a>
                            
                            
                            <a href="mailto:ayanee@protonmail.com" class="social-link">
                                <i class="ri-mail-fill"></i>
                                <span>Email</span>
                            </a>
                            
                        </div>
                    </div>
                    
<link rel="stylesheet" href="/css/article.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/color-thief/2.3.0/color-thief.umd.js"></script>
<div class="page-container">
    
    <div class="card" style="height: 300px; margin: 0 0 20px 0; padding: 0; border-radius: 15px; overflow: hidden; display: flex; background: rgba(0, 0, 0, .25);">
        <div style="position: relative; flex: 1; height: 100%;">
            
            <div style="position:absolute;top:0;left:0;right:0;bottom:0;background: url('/images/default-cover.jpg') no-repeat center;background-size: cover;"></div>
            <img src="/images/default-cover.jpg" id="coverImage" style="display: none;" crossorigin="anonymous">
            
            <div style="color:white;opacity: 1!important;background: linear-gradient(to bottom, rgba(0,0,0,0) 0%, rgba(0,0,0,0.6) 50%, rgba(0,0,0,0.9) 100%);padding: 2rem;height:100%;display: flex;flex-direction: column;justify-content: flex-end;position:relative;z-index:1;">
                <h1 style="font-size: 2em; margin: 0 0 15px 0; line-height: 1.3;">Nexmoe移植记录</h1>
                <div style="width: 100%; padding-right: 2rem;">
                    
                    <p style="margin: 0; font-size: 1em; line-height: 1.5; overflow: hidden; word-wrap: break-word; white-space: normal; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 2;">我就是 copy 怪hhh，大部分样式来自 Hexo 版本
文章归档 所有移植都要从文章归档页面开始说起，看到 Hexo 版本的文章归档页面感觉很好看，于是就开始移植了。 先用 chrome 的F12 …</p>
                    
                </div>
            </div>
        </div>
        <div id="infoCard" style="width: 300px; padding: 2rem; backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px); display: flex; flex-direction: column; justify-content: center; position: relative; overflow: hidden;">
            <div class="overlay" style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; pointer-events: none;"></div>
            <div class="overlay" style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; pointer-events: none;"></div>
            <div style="color: white; position: relative; z-index: 2;">
                <div style="margin-bottom: 1rem;">
                    <i class="fas fa-calendar-alt" style="margin-right: 8px;"></i>
                    发布于 2020年02月23日
                </div>
                <div style="margin-bottom: 1rem;" class="mobile-hide">
                    <i class="fas fa-clock" style="margin-right: 8px;"></i>
                    最后更新于 2020年02月23日
                </div>
                <div style="margin-bottom: 1rem;">
                    <i class="fas fa-folder" style="margin-right: 8px;"></i>
                    归档于：
                    <div style="display: inline-flex; flex-wrap: wrap; gap: 8px; margin-top: 4px;">
                        
                        
                        <a href="/categories/%E6%8A%98%E8%85%BE%E7%BD%91%E7%AB%99" class="category-link" style="color: #fff!important; text-decoration: none; background: rgba(255, 255, 255, 0.15); padding: 4px 12px; border-radius: 8px; font-size: 0.9em; transition: all 0.2s ease; border: 1px solid rgba(255, 255, 255, 0.2); font-weight: 500; backdrop-filter: blur(4px);">折腾网站</a>
                        
                        
                    </div>
                </div>
                <div class="mobile-hide">
                    <i class="fas fa-tags" style="margin-right: 8px;"></i>
                    标签：
                    <div style="display: inline-flex; flex-wrap: wrap; gap: 8px; margin-top: 4px;">
                        
                        <span style="color: rgba(255,255,255,0.5);">暂无标签</span>
                        
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const colorThief = new ColorThief();
            const img = document.getElementById('coverImage');
            
            function updateColors(color) {
                const [r, g, b] = color;
                const infoCard = document.getElementById('infoCard');
                
                
                const gradient = `
                    linear-gradient(135deg, 
                        rgba(${r}, ${g}, ${b}, 0.7) 0%,
                        rgba(${r}, ${g}, ${b}, 0.4) 100%
                    )
                `;
                
                
                infoCard.style.background = gradient;
                
                
                const overlays = infoCard.querySelectorAll('.overlay');
                overlays[0].style.background = `
                    linear-gradient(135deg, 
                        rgba(255, 255, 255, 0.15) 0%,
                        rgba(255, 255, 255, 0) 100%
                    )
                `;
                overlays[1].style.background = `
                    linear-gradient(to bottom, 
                        rgba(0, 0, 0, 0.2) 0%,
                        rgba(0, 0, 0, 0.4) 100%
                    )
                `;
                
                
                document.querySelectorAll('.category-link').forEach(link => {
                    link.style.background = `rgba(${r}, ${g}, ${b}, 0.4)`;
                    link.style.borderColor = `rgba(${r}, ${g}, ${b}, 0.6)`;
                    
                    
                    link.addEventListener('mouseover', () => {
                        link.style.background = `rgba(${r}, ${g}, ${b}, 0.5)`;
                    });
                    link.addEventListener('mouseout', () => {
                        link.style.background = `rgba(${r}, ${g}, ${b}, 0.4)`;
                    });
                });
                
                
                document.querySelectorAll('.tag-link').forEach(link => {
                    link.style.background = `rgba(${r}, ${g}, ${b}, 0.25)`;
                    link.style.borderColor = `rgba(${r}, ${g}, ${b}, 0.4)`;
                    
                    
                    link.addEventListener('mouseover', () => {
                        link.style.background = `rgba(${r}, ${g}, ${b}, 0.35)`;
                    });
                    link.addEventListener('mouseout', () => {
                        link.style.background = `rgba(${r}, ${g}, ${b}, 0.25)`;
                    });
                });
            }
            
            if (img.complete) {
                const color = colorThief.getPalette(img, 5)[2]; 
                updateColors(color);
            } else {
                img.addEventListener('load', function() {
                    const color = colorThief.getPalette(img, 5)[2];
                    updateColors(color);
                });
            }
        });
    </script>

    <style>
        @media (max-width: 768px) {
            .card {
                flex-direction: column !important;
                height: auto !important;
                width: 100% !important;
            }
            .card > div:last-child {
                width: 100% !important;
                padding: 1rem !important;
            }
            .card > div:first-child {
                height: 200px !important;
            }
            .card > div:first-child > div:first-child {
                height: 200px !important;
            }
            .card > div:first-child > div:last-child {
                padding: 1rem !important;
                height: 200px !important;
            }
            .card h1 {
                font-size: 1.3em !important;
                margin: 0 0 8px 0 !important;
            }
            .card p {
                font-size: 0.85em !important;
                padding-right: 1rem !important;
            }
            .mobile-hide {
                display: none !important;
            }
            .category-link, .tag-link {
                padding: 3px 10px !important;
                font-size: 0.85em !important;
            }
        }
    </style>

    
    <div class="article-container" style="display: flex; gap: 20px;">
        <div class="cardw" style="width: calc(100% - 300px);">
            <article class="post-content">
                <style>
                    .post-content {
                        color: #fff;
                        line-height: 1.8;
                        font-size: 16px;
                        padding: 2.5rem 3rem;
                        position: relative;
                        width: 100%;
                        background: rgba(0, 0, 0, 0.2);
                        border-radius: 15px;
                        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
                    }

                    .post-content h1, .post-content h2, .post-content h3, .post-content h4, .post-content h5, .post-content h6 {
                        margin: 2em 0 1em;
                        position: relative;
                        font-weight: 600;
                        letter-spacing: -0.01em;
                        line-height: 1.4;
                        color: #fff;
                    }

                    .post-content h1 { 
                        font-size: 2.2em; 
                        margin-top: 0;
                        margin-bottom: 1em;
                        color: rgba(255, 255, 255, 0.95);
                        font-weight: 700;
                    }

                    .post-content h2 { 
                        font-size: 1.8em;
                        padding: 0.8em 0;
                        margin: 2em 0 1em;
                        border-bottom: 2px solid rgba(255, 255, 255, 0.15);
                        color: rgba(255, 255, 255, 0.9);
                    }

                    .post-content h3 { 
                        font-size: 1.5em;
                        color: rgba(255, 255, 255, 0.85);
                        margin: 1.8em 0 0.8em;
                    }

                    .post-content h4 { 
                        font-size: 1.3em;
                        color: rgba(255, 255, 255, 0.8);
                        margin: 1.5em 0 0.8em;
                    }

                    .post-content h5 { 
                        font-size: 1.1em;
                        color: rgba(255, 255, 255, 0.75);
                    }

                    .post-content h6 { 
                        font-size: 1em;
                        color: rgba(255, 255, 255, 0.7);
                    }

                    .post-content p {
                        margin: 1.8em 0;
                        letter-spacing: 0.03em;
                        line-height: 2;
                        color: rgba(255, 255, 255, 0.9);
                    }

                    .post-content img {
                        width: 100%;
                        height: auto;
                        display: block;
                        margin: 2.5em auto;
                        border-radius: 16px;
                        cursor: zoom-in;
                        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
                        box-shadow: 0 8px 30px rgba(0, 0, 0, 0.4);
                    }

                    .post-content a:has(img) {
                        text-decoration: none !important;
                        border-bottom: none !important;
                    }

                    .post-content a:has(img)::before {
                        display: none !important;
                    }

                    .post-content a:has(img):hover {
                        text-shadow: none !important;
                    }

                    .post-content a:has(img) {
                        padding: 0 !important;
                    }

                    .post-content img:hover {
                        transform: scale(1.02) translateY(-8px);
                        box-shadow: 0 12px 40px rgba(0, 0, 0, 0.5);
                    }

                    .post-content blockquote {
                        margin: 2.5em 0;
                        padding: 1.8em 3em 1.8em 5em;
                        background: rgba(255, 255, 255, 0.08);
                        border-radius: 12px;
                        position: relative;
                        box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);
                        border-left: 3px solid rgba(255, 255, 255, 0.25);
                        overflow-wrap: break-word;
                        word-wrap: break-word;
                        hyphens: auto;
                    }

                    .post-content blockquote::before {
                        content: '"';
                        position: absolute;
                        top: 50%;
                        left: 1em;
                        transform: translateY(-50%);
                        font-size: 2em;
                        color: rgba(255, 255, 255, 0.4);
                        font-family: Georgia, serif;
                    }

                    .post-content blockquote p {
                        margin: 0.8em 0;
                        color: rgba(255, 255, 255, 0.95);
                        line-height: 1.8;
                        font-style: italic;
                    }

                    .post-content .image-container {
                        margin: 2.5em 0;
                        position: relative;
                        text-align: center;
                    }

                    .post-content .image-container img {
                        max-width: 100%;
                        height: auto;
                        display: inline-block;
                        border-radius: 12px;
                        transition: all 0.3s ease;
                    }


                    .image-caption {
                        text-align: center;
                        color: rgba(255, 255, 255, 0.8);
                        font-size: 0.9em;
                        font-style: italic;
                        padding: 0 1em;
                    }

                    .fancybox__container {
                        --fancybox-bg: rgba(25, 25, 25, 0.98);
                    }

                    .fancybox__toolbar {
                        --carousel-button-bg: rgba(255, 255, 255, 0.15);
                        --carousel-button-hover-bg: rgba(255, 255, 255, 0.25);
                    }

                    .fancybox__nav {
                        --carousel-button-bg: rgba(255, 255, 255, 0.15);
                        --carousel-button-hover-bg: rgba(255, 255, 255, 0.25);
                    }

                    .fancybox__caption {
                        font-size: 1em;
                        color: #fff;
                        background: rgba(0, 0, 0, 0.85);
                        padding: 1em 2em;
                        border-radius: 8px;
                        text-align: center;
                    }

                    .fancybox__content {
                        padding: 0;
                        background: none;
                        border-radius: 12px;
                    }

                    .fancybox__content img {
                        border-radius: 8px;
                    }

                    .post-content pre {
                        background: rgba(40, 40, 40, 0.6);
                        padding: 3.5em 2em 2em;
                        border-radius: 12px;
                        overflow: hidden;
                        margin: 2em 0;
                        box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);
                        border: 1px solid rgba(255, 255, 255, 0.15);
                        position: relative;
                    }

                    .post-content pre code {
                        background: none !important;
                        padding: 0 !important;
                        margin: 0 !important;
                        border: none !important;
                        font-size: 0.95em;
                        line-height: 1.8;
                        font-family: 'JetBrains Mono', Consolas, Monaco, monospace;
                        display: block;
                    }

                    .post-content code {
                        font-family: 'JetBrains Mono', Consolas, Monaco, monospace;
                        padding: 0.2em 0.4em;
                        margin: 0 0.2em;
                        border-radius: 4px;
                        font-size: 0.9em;
                    }

                    .post-content .code-header {
                        position: absolute;
                        top: 0;
                        left: 0;
                        right: 0;
                        height: 2.5em;
                        background: rgba(20, 20, 20, 0.6);
                        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
                        display: flex;
                        justify-content: space-between;
                        align-items: center;
                        padding: 0 1.2em;
                    }

                    .post-content .code-lang {
                        font-family: 'JetBrains Mono', monospace;
                        font-size: 0.85em;
                        color: rgba(255, 255, 255, 0.6);
                        font-weight: 500;
                    }

                    .post-content .copy-button {
                        background: rgba(255, 255, 255, 0.1);
                        border: 1px solid rgba(255, 255, 255, 0.2);
                        color: rgba(255, 255, 255, 0.8);
                        padding: 0.3em 0.8em;
                        border-radius: 4px;
                        font-size: 0.85em;
                        cursor: pointer;
                        transition: all 0.2s ease;
                        font-family: system-ui, -apple-system, sans-serif;
                    }

                    .post-content .copy-button:hover {
                        background: rgba(255, 255, 255, 0.15);
                        border-color: rgba(255, 255, 255, 0.3);
                        color: rgba(255, 255, 255, 0.95);
                    }

                    .post-content .copy-button.copied {
                        background: rgba(255, 255, 255, 0.2);
                        color: rgba(255, 255, 255, 0.95);
                    }

                    .post-content a {
                        color: rgba(255, 255, 255, 0.9);
                        text-decoration: none;
                        position: relative;
                        padding: 0 4px;
                        transition: all 0.3s ease;
                        font-weight: 500;
                    }

                    .post-content a::before {
                        content: '';
                        position: absolute;
                        bottom: 0;
                        left: 0;
                        width: 100%;
                        height: 1px;
                        background: linear-gradient(90deg, rgba(255, 255, 255, 0.8), transparent);
                        transform: scaleX(0);
                        transform-origin: left;
                        transition: transform 0.3s ease;
                    }

                    .post-content a:hover {
                        color: #fff;
                        text-shadow: 0 0 8px rgba(255, 255, 255, 0.3);
                    }

                    .post-content a:hover::before {
                        transform: scaleX(1);
                    }

                    .post-content ul, .post-content ol {
                        padding-left: 2.5em;
                        margin: 2em 0;
                    }

                    .post-content li {
                        margin: 1em 0;
                        line-height: 1.8;
                        color: rgba(255, 255, 255, 0.9);
                        position: relative;
                    }

                    .post-content li::marker {
                        color: rgba(255, 255, 255, 0.6);
                    }

                    .post-content table {
                        width: 100%;
                        border-collapse: separate;
                        border-spacing: 0;
                        margin: 2.5em 0;
                        border-radius: 12px;
                        overflow: hidden;
                        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
                        background: rgba(30, 30, 30, 0.4);
                    }

                    .post-content th, .post-content td {
                        padding: 1.2em 1.5em;
                        border: 1px solid rgba(255, 255, 255, 0.1);
                        background: rgba(255, 255, 255, 0.02);
                        transition: all 0.3s ease;
                    }

                    .post-content th {
                        background: rgba(255, 255, 255, 0.1);
                        font-weight: 600;
                        text-align: left;
                        color: rgba(255, 255, 255, 0.95);
                    }

                    .post-content tr:hover td {
                        background: rgba(255, 255, 255, 0.05);
                    }

                    .post-content hr {
                        margin: 3em 0;
                        border: none;
                        height: 1px;
                        background: linear-gradient(90deg, 
                            rgba(255, 255, 255, 0) 0%,
                            rgba(255, 255, 255, 0.3) 50%,
                            rgba(255, 255, 255, 0) 100%
                        );
                    }

                    @media (max-width: 768px) {
                        .post-content {
                            padding: 1.5rem;
                            font-size: 15px;
                            border-radius: 12px;
                        }
                        .post-content h1 { font-size: 1.8em; }
                        .post-content h2 { 
                            font-size: 1.5em;
                            padding-left: 0.8em;
                        }
                        .post-content h3 { font-size: 1.3em; }
                        .post-content img {
                            border-radius: 12px;
                        }
                        .post-content blockquote {
                            padding: 1.5em;
                        }
                        .post-content table {
                            display: block;
                            overflow-x: auto;
                            white-space: nowrap;
                        }
                    }

                     
                    .toc-content ul {
                        list-style: none;
                        padding: 0;
                        margin: 0;
                    }
                    .toc-content ul ul {
                        padding-left: 1.2em;
                        border-left: 1px solid rgba(255, 255, 255, 0.15);
                        margin-left: 0.3em;
                    }
                    .toc-content li {
                        margin: 0.5em 0;
                        line-height: 1.4;
                    }
                    .toc-content a {
                        color: rgba(255, 255, 255, 0.8);
                        text-decoration: none;
                        transition: all 0.2s ease;
                        font-size: 0.95em;
                        display: block;
                        padding: 0.3em 0.6em;
                        border-radius: 4px;
                    }
                    .toc-content a:hover {
                        color: #fff;
                        background: rgba(255, 255, 255, 0.1);
                    }
                    .toc-content .active {
                        color: #fff;
                        background: rgba(255, 255, 255, 0.15);
                        font-weight: 500;
                    }
                    @media (max-width: 1024px) {
                        .post-toc {
                            display: none;
                        }
                    }

                     
                    @media (max-width: 1300px) {
                        .post-toc {
                            display: none;
                        }
                        .cardw {
                            width: 100% !important;
                        }
                    }

                     
                    .post-toc::-webkit-scrollbar {
                        width: 6px;
                    }
                    .post-toc::-webkit-scrollbar-track {
                        background: rgba(0, 0, 0, 0.1);
                        border-radius: 3px;
                    }
                    .post-toc::-webkit-scrollbar-thumb {
                        background: rgba(255, 255, 255, 0.2);
                        border-radius: 3px;
                    }
                    .post-toc::-webkit-scrollbar-thumb:hover {
                        background: rgba(255, 255, 255, 0.3);
                    }

                     
                    .tags-content a:hover {
                        background: rgba(255, 255, 255, 0.2) !important;
                        color: #fff !important;
                    }
                    
                    .related-content a:hover {
                        background: rgba(255, 255, 255, 0.1) !important;
                        transform: translateX(5px);
                    }

                     
                    @media (max-width: 1300px) {
                
                        .cardw {
                            width: 100% !important;
                        }
                    }

                     
                    .sidebar-tool::-webkit-scrollbar {
                        width: 6px;
                    }
                    .sidebar-tool::-webkit-scrollbar-track {
                        background: rgba(0, 0, 0, 0.1);
                        border-radius: 3px;
                    }
                    .sidebar-tool::-webkit-scrollbar-thumb {
                        background: rgba(255, 255, 255, 0.3);
                        border-radius: 3px;
                    }
                    .sidebar-tool::-webkit-scrollbar-thumb:hover {
                        background: rgba(255, 255, 255, 0.5);
                    }

                     
                    .comments-container {
                        max-width: calc(100% - 300px);
                        margin-top: 2em;
                    }

                    .comments {
                        padding: 2em;
                        background: rgba(40, 40, 40, 0.4);
                        border-radius: 15px;
                        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
                        border: 1px solid rgba(255, 255, 255, 0.1);
                    }

                    .comments-title {
                        font-size: 1.2em;
                        font-weight: 600;
                        margin-bottom: 1.5em;
                        color: rgba(255, 255, 255, 0.95);
                        padding-bottom: 0.5em;
                        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
                    }

                     
                    .sidebar-tool {
                        width: 260px;
                        flex-shrink: 0;
                        position: sticky;
                        top: 20px;
                        max-height: calc(100vh - 40px);
                        overflow-y: auto;
                    }

                    .post-toc, .tags-cloud, .related-posts {
                        background: rgba(40, 40, 40, 0.4);
                        border-radius: 15px;
                        padding: 1.5rem;
                        margin-bottom: 20px;
                        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
                        border: 1px solid rgba(255, 255, 255, 0.1);
                    }

                    .toc-title, .tags-title, .related-title {
                        font-size: 1.1em;
                        font-weight: 600;
                        margin-bottom: 1em;
                        color: rgba(255, 255, 255, 0.95);
                        padding-bottom: 0.5em;
                        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
                    }

                    .tags-content a {
                        color: rgba(255, 255, 255, 0.8);
                        text-decoration: none;
                        background: rgba(255, 255, 255, 0.08);
                        padding: 4px 12px;
                        border-radius: 12px;
                        font-size: 0.9em;
                        transition: all 0.2s ease;
                        display: inline-block;
                        margin: 0.2em;
                        border: 1px solid rgba(255, 255, 255, 0.1);
                    }

                    .tags-content a:hover {
                        background: rgba(255, 255, 255, 0.15) !important;
                        color: rgba(255, 255, 255, 0.95) !important;
                        transform: translateY(-1px);
                        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
                    }

                    .related-content a {
                        display: block;
                        color: rgba(255, 255, 255, 0.8);
                        text-decoration: none;
                        margin-bottom: 12px;
                        padding: 10px 12px;
                        border-radius: 8px;
                        transition: all 0.2s ease;
                        background: rgba(255, 255, 255, 0.05);
                        border: 1px solid rgba(255, 255, 255, 0.1);
                    }

                    .related-content a:hover {
                        background: rgba(255, 255, 255, 0.1) !important;
                        transform: translateX(5px);
                        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
                    }

                    .related-content .post-date {
                        font-size: 0.8em;
                        color: rgba(255, 255, 255, 0.5);
                        margin-top: 4px;
                    }

                    @media (max-width: 1300px) {
                        .sidebar-tool {
                            display: none;
                        }
                        .cardw {
                            width: 100% !important;
                        }
                        .comments-container {
                            max-width: 100%;
                        }
                    }

                     
                    .sidebar-tool::-webkit-scrollbar {
                        width: 6px;
                    }

                    .sidebar-tool::-webkit-scrollbar-track {
                        background: rgba(0, 0, 0, 0.1);
                        border-radius: 3px;
                    }

                    .sidebar-tool::-webkit-scrollbar-thumb {
                        background: rgba(255, 255, 255, 0.2);
                        border-radius: 3px;
                    }

                    .sidebar-tool::-webkit-scrollbar-thumb:hover {
                        background: rgba(255, 255, 255, 0.3);
                    }

                     
                    .post-content .video-container {
                        position: relative;
                        width: 100%;
                        margin: 2.5em 0;
                        border-radius: 16px;
                        overflow: hidden;
                        box-shadow: 0 8px 30px rgba(0, 0, 0, 0.4);
                    }

                    .post-content .video-container video {
                        width: 100%;
                        height: auto;
                        display: block;
                        border-radius: 16px;
                    }

                     
                    .post-content video::-webkit-media-controls-overlay-play-button {
                        display: block;
                    }

                    .post-content video::-webkit-media-controls {
                        display: flex !important;
                    }

                    .post-content video::-webkit-media-controls-panel {
                        display: flex !important;
                        background: linear-gradient(transparent, rgba(0, 0, 0, 0.5));
                    }

                     
                    @media (max-width: 768px) {
                        .post-content .video-container {
                            margin: 1.5em 0;
                        }
                    }

                     
                    .sidebar-tool {
                        overflow: visible;
                    }
                    
                     
                    .sidebar-tool::-webkit-scrollbar,
                    .sidebar-tool::-webkit-scrollbar-track,
                    .sidebar-tool::-webkit-scrollbar-thumb,
                    .sidebar-tool::-webkit-scrollbar-thumb:hover {
                        display: none;
                    }
                </style>
                <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0/dist/fancybox/fancybox.css" />
                <script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0/dist/fancybox/fancybox.umd.js"></script>
                <script>
                    document.addEventListener('DOMContentLoaded', function() {
                        
                        const content = document.querySelector('.post-content');
                        const headings = content.querySelectorAll('h2, h3, h4');
                        const tocContent = document.querySelector('.toc-content');
                        
                        if (headings.length > 0 && tocContent) {
                            const tocList = document.createElement('ul');
                            let currentLevel = 2;
                            let currentUl = tocList;
                            let levelStack = [tocList];

                            headings.forEach((heading, index) => {
                                const level = parseInt(heading.tagName.charAt(1));
                                heading.id = `heading-${index}`;

                                if (level > currentLevel) {
                                    const ul = document.createElement('ul');
                                    levelStack[levelStack.length - 1].lastElementChild.appendChild(ul);
                                    levelStack.push(ul);
                                    currentUl = ul;
                                } else if (level < currentLevel) {
                                    levelStack = levelStack.slice(0, level - 1);
                                    currentUl = levelStack[levelStack.length - 1];
                                }

                                const li = document.createElement('li');
                                const a = document.createElement('a');
                                a.href = `#heading-${index}`;
                                a.textContent = heading.textContent;
                                li.appendChild(a);
                                currentUl.appendChild(li);

                                currentLevel = level;
                            });

                            tocContent.appendChild(tocList);

                            
                            const tocLinks = tocContent.querySelectorAll('a');
                            const headingElements = Array.from(headings);
                            
                            let ticking = false;
                            window.addEventListener('scroll', () => {
                                if (!ticking) {
                                    window.requestAnimationFrame(() => {
                                        const fromTop = window.scrollY + 100;
                                        
                                        let currentHeading = headingElements[0];
                                        headingElements.forEach(heading => {
                                            if (heading.offsetTop <= fromTop) {
                                                currentHeading = heading;
                                            }
                                        });
                                        
                                        tocLinks.forEach(link => {
                                            link.classList.remove('active');
                                            if (currentHeading && link.getAttribute('href') === `#${currentHeading.id}`) {
                                                link.classList.add('active');
                                            }
                                        });
                                        
                                        ticking = false;
                                    });
                                    ticking = true;
                                }
                            });

                            
                            tocLinks.forEach(link => {
                                link.addEventListener('click', (e) => {
                                    e.preventDefault();
                                    const targetId = link.getAttribute('href').slice(1);
                                    const target = document.getElementById(targetId);
                                    if (target) {
                                        window.scrollTo({
                                            top: target.offsetTop - 80,
                                            behavior: 'smooth'
                                        });
                                    }
                                });
                            });
                        } else if (tocContent) {
                            const tocContainer = document.querySelector('.post-toc');
                            if (tocContainer) {
                                tocContainer.style.display = 'none';
                            }
                        }

                        
                        Fancybox.bind("[data-fancybox]", {
                            animated: true,
                            showClass: "fancybox-fadeIn",
                            hideClass: "fancybox-fadeOut",
                            dragToClose: false,
                            Image: {
                                zoom: true,
                                click: true,
                                wheel: "slide",
                                fit: "contain"
                            },
                            Toolbar: {
                                display: [
                                    "zoom",
                                    "slideshow",
                                    "fullscreen",
                                    "close"
                                ]
                            },
                            Thumbs: {
                                autoStart: false
                            },
                            Carousel: {
                                transition: "slide",
                                friction: 0.8
                            }
                        });

                        
                        document.querySelectorAll('pre code').forEach(block => {
                            
                            if (block.parentElement.querySelector('.code-header')) {
                                return;
                            }
                            
                            
                            let language = 'plaintext';
                            const classNames = block.className.split(' ');
                            for (const className of classNames) {
                                if (className.startsWith('language-')) {
                                    language = className.replace('language-', '');
                                    break;
                                }
                            }
                            
                            
                            const header = document.createElement('div');
                            header.className = 'code-header';
                            
                            
                            const langSpan = document.createElement('span');
                            langSpan.className = 'code-lang';
                            langSpan.textContent = language.toUpperCase();
                            header.appendChild(langSpan);
                            
                            
                            const copyButton = document.createElement('button');
                            copyButton.className = 'copy-button';
                            copyButton.textContent = '复制代码';
                            copyButton.onclick = async () => {
                                try {
                                    await navigator.clipboard.writeText(block.textContent);
                                    copyButton.textContent = '已复制！';
                                    copyButton.classList.add('copied');
                                    setTimeout(() => {
                                        copyButton.textContent = '复制代码';
                                        copyButton.classList.remove('copied');
                                    }, 2000);
                                } catch (err) {
                                    copyButton.textContent = '复制失败';
                                    setTimeout(() => {
                                        copyButton.textContent = '复制代码';
                                    }, 2000);
                                }
                            };
                            header.appendChild(copyButton);
                            
                            
                            block.parentElement.insertBefore(header, block);
                        });

                        
                        document.querySelectorAll('.post-content img').forEach(img => {
                            if (!img.closest('.image-container')) {  
                                const container = document.createElement('div');
                                container.className = 'image-container';
                                
                                
                                const link = document.createElement('a');
                                link.href = img.src;
                                link.setAttribute('data-fancybox', 'gallery');
                                if (img.alt) {
                                    link.setAttribute('data-caption', img.alt);
                                }
                                
                                
                                img.parentNode.insertBefore(container, img);
                                container.appendChild(link);
                                link.appendChild(img);
                                
                                
                                if (img.alt) {
                                    const caption = document.createElement('div');
                                    caption.className = 'image-caption';
                                    caption.textContent = img.alt;
                                    container.appendChild(caption);
                                }
                            }
                        });

                        
                        function updateArticleHeight() {
                            const article = document.querySelector('.post-content');
                            if (article) {
                                document.documentElement.style.setProperty('--article-height', `${article.offsetHeight}px`);
                            }
                        }
                        
                        
                        updateArticleHeight();
                        window.addEventListener('resize', updateArticleHeight);
                        
                        
                        const observer = new MutationObserver(updateArticleHeight);
                        const article = document.querySelector('.post-content');
                        if (article) {
                            observer.observe(article, { 
                                childList: true, 
                                subtree: true, 
                                attributes: true 
                            });
                        }
                    });
                </script>
                <p>我就是 copy 怪hhh，大部分样式来自 Hexo 版本</p>
<h2 id="文章归档">文章归档</h2>
<p>所有移植都要从文章归档页面开始说起，看到 Hexo 版本的文章归档页面感觉很好看，于是就开始移植了。
先用 chrome 的F12看下折影大佬站上的有关样式 全部Copy下来
<img src="https://fly.ahblog.net/blog/typecho/nexmoe-1.png" alt="nexmoe-1.png" title="nexmoe-1.png">
其实最主要的就是 ::before 样式，其它的抄来也用不了啊hhh
然后整理下需要用到的样式，留下来了这些。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-css" data-lang="css"><span style="display:flex;"><span>    .<span style="color:#a6e22e">nexmoe-archives</span> <span style="color:#f92672">li</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">position</span>: <span style="color:#66d9ef">relative</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">padding</span>: <span style="color:#ae81ff">10</span><span style="color:#66d9ef">px</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    .<span style="color:#a6e22e">nexmoe-archives</span> <span style="color:#f92672">li</span>::<span style="color:#a6e22e">before</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">content</span>: <span style="color:#e6db74">&#34;&#34;</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">width</span>: <span style="color:#ae81ff">14</span><span style="color:#66d9ef">px</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">height</span>: <span style="color:#ae81ff">14</span><span style="color:#66d9ef">px</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">background</span>: <span style="color:#ae81ff">#ff4e6a</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">display</span>: <span style="color:#66d9ef">inline-block</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">vertical-align</span>: <span style="color:#66d9ef">middle</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">margin-top</span>: <span style="color:#ae81ff">-2</span><span style="color:#66d9ef">px</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">margin-right</span>: <span style="color:#ae81ff">11</span><span style="color:#66d9ef">px</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">border-radius</span>: <span style="color:#ae81ff">100</span><span style="color:#66d9ef">%</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">border</span>: <span style="color:#ae81ff">3</span><span style="color:#66d9ef">px</span> <span style="color:#66d9ef">solid</span> <span style="color:#ae81ff">#fff</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">z-index</span>: <span style="color:#ae81ff">100</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">position</span>: <span style="color:#66d9ef">relative</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    .<span style="color:#a6e22e">nexmoe-archives</span> <span style="color:#f92672">ul</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">list-style</span>: <span style="color:#66d9ef">none</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">padding-left</span>: <span style="color:#ae81ff">0</span><span style="color:#75715e">!important</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    .<span style="color:#a6e22e">nexmoe-archives</span> <span style="color:#f92672">li</span>::<span style="color:#a6e22e">after</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">content</span>: <span style="color:#e6db74">&#34;&#34;</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">height</span>: <span style="color:#ae81ff">100</span><span style="color:#66d9ef">%</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">width</span>: <span style="color:#ae81ff">2</span><span style="color:#66d9ef">px</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">background</span>: rgba(<span style="color:#ae81ff">255</span>,<span style="color:#ae81ff">78</span>,<span style="color:#ae81ff">106</span>,<span style="color:#ae81ff">.2</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">position</span>: <span style="color:#66d9ef">absolute</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">left</span>: <span style="color:#ae81ff">6</span><span style="color:#66d9ef">px</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">top</span>: <span style="color:#ae81ff">20</span><span style="color:#66d9ef">px</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    .<span style="color:#a6e22e">nexmoe-archives</span> <span style="color:#f92672">span</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">margin-right</span>: <span style="color:#ae81ff">15</span><span style="color:#66d9ef">px</span>;
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></div><p>有了样式了，接下来就是创建归档模板了</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#f92672">&lt;?</span><span style="color:#a6e22e">php</span> 
</span></span><span style="display:flex;"><span><span style="color:#e6db74">/**
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> * 归档页面
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> *
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> * @package custom
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">defined</span>(<span style="color:#e6db74">&#39;__TYPECHO_ROOT_DIR__&#39;</span>)) <span style="color:#66d9ef">exit</span>;
</span></span><span style="display:flex;"><span>$this<span style="color:#f92672">-&amp;</span><span style="color:#a6e22e">gt</span>;<span style="color:#a6e22e">need</span>(<span style="color:#e6db74">&#39;layout/_partial/head.php&#39;</span>); 
</span></span><span style="display:flex;"><span><span style="color:#75715e">?&gt;</span><span style="color:#960050;background-color:#1e0010">
</span></span></span></code></pre></div><p>然后全部复制 page.php的内容粘贴到下边，删除掉这些</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span>            <span style="color:#f92672">&lt;</span><span style="color:#a6e22e">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;nexmoe-post-cover mdui-ripple&#34;</span><span style="color:#f92672">&gt;</span> 
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&lt;?</span><span style="color:#a6e22e">php</span> <span style="color:#66d9ef">if</span> ($this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">fields</span><span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">Cover</span>){ <span style="color:#75715e">?&gt;</span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">                    &lt;img src=&#34;&lt;?php echo $this-&gt;fields-&gt;Cover ?&gt;&#34;&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">                &lt;?php }  else{ ?&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">                    &lt;img src=&#34;&lt;?php echo $this-&gt;options-&gt;background ?&gt;&#34;&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">                &lt;?php } ?&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">                &lt;h1&gt;&lt;?php $this-&gt;title() ?&gt;&lt;/h1&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">            &lt;/div&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">            &lt;div class=&#34;nexmoe-post-meta&#34;&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">                &lt;a&gt;&lt;i class=&#34;nexmoefont icon-calendar-fill&#34;&gt;&lt;/i&gt;&lt;?php $this-&gt;date(&#39;Y年n月d日&#39;);?&gt;&lt;/a&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">                &lt;a&gt;&lt;?php artCount($this-&gt;cid);?&gt; 汉字&lt;/a&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">                &lt;a&gt;&lt;?php post_view($this);?&gt; 围观&lt;/a&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">                &lt;a&gt;&lt;?php $this-&gt;commentsNum(&#39;%d&#39;); ?&gt; 评论&lt;/a&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">            &lt;/div&gt;
</span></span></span></code></pre></div><p>然后再把调用评论删掉</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span> &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;comments&#34;</span>&gt;
</span></span><span style="display:flex;"><span>                <span style="color:#75715e">&lt;?php $this-&gt;need(&#39;comments.php&#39;); ?&gt;</span>
</span></span><span style="display:flex;"><span>            &lt;/<span style="color:#f92672">div</span>&gt;
</span></span></code></pre></div><p>这样我们就得到了个空的页面模板，加入typecho的归档，并仿照 Hexo 的日期输出方式进行修改，得到以下代码</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>              <span style="color:#f92672">&lt;?</span><span style="color:#a6e22e">php</span> 
</span></span><span style="display:flex;"><span>    $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">widget</span>(<span style="color:#e6db74">&#39;Widget_Contents_Post_Recent&#39;</span>, <span style="color:#e6db74">&#39;pageSize=10000&#39;</span>)<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">to</span>($archives);   
</span></span><span style="display:flex;"><span>    $year<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>; $mon<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>; $i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>; $j<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;   
</span></span><span style="display:flex;"><span>    $output <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&lt;div id=&#34;archives&#34;&gt;&#39;</span>;   
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span>($archives<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">next</span>())<span style="color:#f92672">:</span>   
</span></span><span style="display:flex;"><span>        $year_tmp <span style="color:#f92672">=</span> <span style="color:#a6e22e">date</span>(<span style="color:#e6db74">&#39;Y&#39;</span>,$archives<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">created</span>);   
</span></span><span style="display:flex;"><span>        $mon_tmp <span style="color:#f92672">=</span> <span style="color:#a6e22e">date</span>(<span style="color:#e6db74">&#39;m&#39;</span>,$archives<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">created</span>);   
</span></span><span style="display:flex;"><span>        $y<span style="color:#f92672">=</span>$year; $m<span style="color:#f92672">=</span>$mon;   
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> ($mon <span style="color:#f92672">!=</span> $mon_tmp <span style="color:#f92672">&amp;&amp;</span> $mon <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>) $output <span style="color:#f92672">.=</span> <span style="color:#e6db74">&#39;&lt;/ul&gt;&lt;/li&gt;&#39;</span>;   
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> ($year <span style="color:#f92672">!=</span> $year_tmp <span style="color:#f92672">&amp;&amp;</span> $year <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>) $output <span style="color:#f92672">.=</span> <span style="color:#e6db74">&#39;&lt;/ul&gt;&#39;</span>;   
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> ($year <span style="color:#f92672">!=</span> $year_tmp) {   
</span></span><span style="display:flex;"><span>            $year <span style="color:#f92672">=</span> $year_tmp;   
</span></span><span style="display:flex;"><span>            $output <span style="color:#f92672">.=</span> <span style="color:#e6db74">&#39;&lt;h2 &gt;&#39;</span><span style="color:#f92672">.</span> $year <span style="color:#f92672">.</span><span style="color:#e6db74">&#39; 年&lt;/h2&gt;&lt;ul class=&#34;article1&#34;&gt;&#39;</span>; <span style="color:#75715e">//输出年份   
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        }   
</span></span><span style="display:flex;"><span>        $output <span style="color:#f92672">.=</span> <span style="color:#e6db74">&#39;&lt;li&gt;&lt;span&gt;&#39;</span><span style="color:#f92672">.</span><span style="color:#a6e22e">date</span>(<span style="color:#e6db74">&#39;n月d日    &#39;</span>,$archives<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">created</span>)<span style="color:#f92672">.</span><span style="color:#e6db74">&#39;&lt;/span&gt;&lt;a href=&#34;&#39;</span><span style="color:#f92672">.</span>$archives<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">permalink</span> <span style="color:#f92672">.</span><span style="color:#e6db74">&#39;&#34;&gt;&#39;</span><span style="color:#f92672">.</span> $archives<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">title</span> <span style="color:#f92672">.</span><span style="color:#e6db74">&#39;&lt;/a&gt;&lt;/li&gt;&#39;</span>; <span style="color:#75715e">//输出文章日期和标题   
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">endwhile</span>;   
</span></span><span style="display:flex;"><span>    $output <span style="color:#f92672">.=</span> <span style="color:#e6db74">&#39;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&#39;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">echo</span> $output;
</span></span><span style="display:flex;"><span><span style="color:#75715e">?&gt;</span><span style="color:#960050;background-color:#1e0010">
</span></span></span></code></pre></div><pre><code>P.S 这里是把 &lt;?php $this-&gt;content(''); ?&gt;替换掉

## 友情链接
</code></pre>
<p>这项功能是从原先的Catui上直接搞来的，实现其实很简单，就是把原先 catui 有关 link-area 的样式全都 copy 来，再把页面内的输出也改成 catui 友情链接的输出方式即可。
但是使用后就发现，图片大小太小了。
使用 F12 就可以看到是原先的样式定义了 max-width ，于是在 link-area 的样式上也加一行max-width:115px;</p>
<p>图片是变大了，但发现在手机端时，所有友情链接都会出现偏左的现象。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-css" data-lang="css"><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>@<span style="color:#66d9ef">media</span> <span style="color:#f92672">screen</span> <span style="color:#f92672">and</span> <span style="color:#f92672">(</span><span style="color:#f92672">max-width</span><span style="color:#f92672">:</span> <span style="color:#f92672">850px</span><span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>    .<span style="color:#a6e22e">link-area</span> <span style="color:#f92672">a</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">width</span><span style="color:#f92672">:</span> <span style="color:#f92672">calc</span><span style="color:#f92672">(</span><span style="color:#f92672">33</span>.<span style="color:#a6e22e">333333333333336</span><span style="color:#f92672">%</span> <span style="color:#f92672">-</span> <span style="color:#f92672">8px</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></div><p>加一段自适应即可。
但在写本博文时，发现了在 ipad 这种宽屏设备下出现了bug
<img src="https://fly.ahblog.net/blog/typecho/nexmoe-2.png" alt="nexmoe-2.png" title="nexmoe-2.png">
于是为了省事，就直接放弃原先的样式，准备从Hexo版本直接Copy，但是输出部分还是需要修改成这样</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span>    <span style="color:#f92672">&lt;</span><span style="color:#a6e22e">pre</span><span style="color:#f92672">&gt;</span><span style="color:#960050;background-color:#1e0010">`</span>                                                    <span style="color:#f92672">&lt;?</span><span style="color:#a6e22e">php</span>
</span></span><span style="display:flex;"><span>                            $str <span style="color:#f92672">=</span> <span style="color:#a6e22e">preg_replace</span>(<span style="color:#e6db74">&#39;#&lt;li&gt;(.*?)&lt;/li&gt;#&#39;</span>,<span style="color:#e6db74">&#39;&lt;li&gt;$1&lt;/li&gt;&#39;</span>, $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">content</span>);
</span></span><span style="display:flex;"><span>                          $str <span style="color:#f92672">=</span> <span style="color:#a6e22e">preg_replace</span>(<span style="color:#e6db74">&#39;#&lt;li&gt;&lt;/li&gt;#&#39;</span>,<span style="color:#e6db74">&#39;&lt;li&gt;$1&lt;a href=&#34;$2&#34;&gt;&lt;p&gt;$3&lt;/p&gt;&lt;/a&gt;&#39;</span>,$str);
</span></span><span style="display:flex;"><span>                            $str <span style="color:#f92672">=</span> <span style="color:#a6e22e">preg_replace</span>(<span style="color:#e6db74">&#39;#&lt;ul&gt;#&#39;</span>,<span style="color:#e6db74">&#39;&lt;ul&gt;&#39;</span>, $str);
</span></span><span style="display:flex;"><span>                            $str <span style="color:#f92672">=</span> <span style="color:#a6e22e">preg_replace</span>(<span style="color:#e6db74">&#39;#&lt;/ul&gt;#&#39;</span>,<span style="color:#e6db74">&#39;&lt;/ul&gt;&#39;</span>, $str);
</span></span><span style="display:flex;"><span>                         
</span></span><span style="display:flex;"><span>                            $str <span style="color:#f92672">=</span> <span style="color:#a6e22e">preg_replace</span>(<span style="color:#e6db74">&#39;#&lt;a href=&#34;(.*?)&#34;&gt;(.*?)&lt;/a&gt;#&#39;</span>,<span style="color:#e6db74">&#39;&lt;a href=&#34;$1&#34; class=&#34;link-p&#34; target=&#34;_blank&#34; &gt;$2&lt;/a&gt;&#39;</span>,$str);
</span></span><span style="display:flex;"><span>                            <span style="color:#66d9ef">echo</span> $str;
</span></span><span style="display:flex;"><span>                            <span style="color:#75715e">?&gt;</span><span style="color:#960050;background-color:#1e0010">
</span></span></span></code></pre></div><p>然后在页面顶部增加修改后的样式</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-css" data-lang="css"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span><span style="color:#f92672">style</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">article</span> <span style="color:#f92672">ul</span> <span style="color:#f92672">li</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">transition</span>: <span style="color:#66d9ef">all</span> <span style="color:#ae81ff">.03</span><span style="color:#66d9ef">s</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">width</span>: calc(<span style="color:#ae81ff">12.5</span><span style="color:#66d9ef">%</span> <span style="color:#f92672">-</span> <span style="color:#ae81ff">10</span><span style="color:#66d9ef">px</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">margin</span>: <span style="color:#ae81ff">5</span><span style="color:#66d9ef">px</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">border-radius</span>: <span style="color:#ae81ff">4</span><span style="color:#66d9ef">px</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">border</span>: <span style="color:#ae81ff">1</span><span style="color:#66d9ef">px</span> <span style="color:#66d9ef">solid</span> <span style="color:#ae81ff">#eee</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">overflow</span>: <span style="color:#66d9ef">hidden</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>.<span style="color:#a6e22e">link-p</span> {
</span></span><span style="display:flex;"><span> <span style="color:#66d9ef">top</span>: <span style="color:#ae81ff">10</span><span style="color:#66d9ef">px</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">font-size</span>: <span style="color:#ae81ff">15</span><span style="color:#66d9ef">px</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">color</span>: <span style="color:#ae81ff">#606266</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">-webkit-</span><span style="color:#66d9ef">transition</span>: <span style="color:#66d9ef">none</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">transition</span>: <span style="color:#66d9ef">none</span>;
</span></span><span style="display:flex;"><span> <span style="color:#66d9ef">margin-bottom</span>: <span style="color:#ae81ff">5</span><span style="color:#66d9ef">px</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">display</span>: <span style="color:#66d9ef">block</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">position</span>: <span style="color:#66d9ef">relative</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">width</span>: <span style="color:#ae81ff">100</span><span style="color:#66d9ef">%</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">border</span>: <span style="color:#66d9ef">none</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">height</span>:<span style="color:#ae81ff">30</span><span style="color:#66d9ef">px</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">margin-top</span>: <span style="color:#ae81ff">-2</span><span style="color:#66d9ef">px</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">text-align</span>: <span style="color:#66d9ef">center</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">overflow</span>: <span style="color:#66d9ef">hidden</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">text-overflow</span>: <span style="color:#66d9ef">ellipsis</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">white-space</span>: <span style="color:#66d9ef">nowrap</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">article</span> <span style="color:#f92672">ul</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">list-style-type</span>: <span style="color:#66d9ef">none</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">padding</span>: <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">display</span>: <span style="color:#66d9ef">flex</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">flex-direction</span>: <span style="color:#66d9ef">row</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">flex-wrap</span>: <span style="color:#66d9ef">wrap</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">margin</span>: <span style="color:#ae81ff">-5</span><span style="color:#66d9ef">px</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">article</span> <span style="color:#f92672">ul</span> <span style="color:#f92672">li</span> <span style="color:#f92672">img</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">height</span>:<span style="color:#ae81ff">110</span><span style="color:#66d9ef">px</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">width</span>: <span style="color:#ae81ff">100</span><span style="color:#66d9ef">%</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">border-radius</span>: <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">border</span>: <span style="color:#66d9ef">none</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">display</span>: <span style="color:#66d9ef">block</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>@<span style="color:#66d9ef">media</span> <span style="color:#f92672">screen</span> <span style="color:#f92672">and</span> <span style="color:#f92672">(</span><span style="color:#f92672">max-width</span><span style="color:#f92672">:</span> <span style="color:#f92672">768px</span><span style="color:#f92672">)</span> {
</span></span><span style="display:flex;"><span><span style="color:#f92672">article</span> <span style="color:#f92672">ul</span> <span style="color:#f92672">li</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">width</span>: calc(<span style="color:#ae81ff">33.3333333333</span><span style="color:#66d9ef">%</span> <span style="color:#f92672">-</span> <span style="color:#ae81ff">10</span><span style="color:#66d9ef">px</span>);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/</span><span style="color:#f92672">style</span><span style="color:#f92672">&gt;</span>
</span></span></code></pre></div><p>然后就大功告成啦</p>
<h2 id="社交小部件">社交小部件</h2>
<p>搞完页面就该搞小部件了，首先可以看到这个主题设计思路很棒hhh，它是用这种方式调用侧边栏小部件的</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span><span style="color:#a6e22e">aside</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;nexmoe-sidebar&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>	
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;?</span><span style="color:#a6e22e">php</span> 
</span></span><span style="display:flex;"><span>    $widget <span style="color:#f92672">=</span> <span style="color:#a6e22e">explode</span>(<span style="color:#e6db74">&#34;,&#34;</span>,$this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">options</span><span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">widget</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">foreach</span>($widget <span style="color:#66d9ef">as</span> $item){
</span></span><span style="display:flex;"><span>        $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">need</span>(<span style="color:#e6db74">&#39;layout/_widget/&#39;</span><span style="color:#f92672">.</span>$item<span style="color:#f92672">.</span><span style="color:#e6db74">&#39;.php&#39;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">?&gt;</span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">&lt;/aside&gt;
</span></span></span></code></pre></div><p>我们只需要在layout/_widget/文件夹新建一个 social.php 文件即可。
代码就直接 Copy Hexo版本的就行了</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>  &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;nexmoe-widget nexmoe-social&#34;</span>&gt;&lt;<span style="color:#f92672">a</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;mdui-ripple&#34;</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;https://space.bilibili.com/20238211&#34;</span> <span style="color:#a6e22e">target</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;_blank&#34;</span> <span style="color:#a6e22e">mdui-tooltip</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{content: &#39;哔哩哔哩&#39;}&#34;</span> <span style="color:#a6e22e">style</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;color:#e76a8d;background-color:rgba(231,106,141,.1)&#34;</span> <span style="color:#a6e22e">rel</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;external nofollow noopener noreferrer&#34;</span>&gt;&lt;<span style="color:#f92672">i</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;nexmoefont icon-bilibili&#34;</span>&gt;&lt;/<span style="color:#f92672">i</span>&gt; &lt;/<span style="color:#f92672">a</span>&gt;&lt;<span style="color:#f92672">a</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;mdui-ripple&#34;</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;https://github.com/nexmoe/&#34;</span> <span style="color:#a6e22e">target</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;_blank&#34;</span> <span style="color:#a6e22e">mdui-tooltip</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{content: &#39;GitHub&#39;}&#34;</span> <span style="color:#a6e22e">style</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;color:#191717;background-color:rgba(25,23,23,.1)&#34;</span> <span style="color:#a6e22e">rel</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;external nofollow noopener noreferrer&#34;</span>&gt;&lt;<span style="color:#f92672">i</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;nexmoefont icon-github&#34;</span>&gt;&lt;/<span style="color:#f92672">i</span>&gt; &lt;/<span style="color:#f92672">a</span>&gt;&lt;<span style="color:#f92672">a</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;mdui-ripple&#34;</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;https://www.zhihu.com/people/chainwon/&#34;</span> <span style="color:#a6e22e">target</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;_blank&#34;</span> <span style="color:#a6e22e">mdui-tooltip</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{content: &#39;知乎&#39;}&#34;</span> <span style="color:#a6e22e">style</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;color:#1e88e5;background-color:rgba(30,136,229,.1)&#34;</span> <span style="color:#a6e22e">rel</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;external nofollow noopener noreferrer&#34;</span>&gt;&lt;<span style="color:#f92672">i</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;nexmoefont icon-zhihu&#34;</span>&gt;&lt;/<span style="color:#f92672">i</span>&gt; &lt;/<span style="color:#f92672">a</span>&gt;&lt;<span style="color:#f92672">a</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;mdui-ripple&#34;</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;https://t.me/nexmoe&#34;</span> <span style="color:#a6e22e">target</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;_blank&#34;</span> <span style="color:#a6e22e">mdui-tooltip</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{content: &#39;Telegram&#39;}&#34;</span> <span style="color:#a6e22e">style</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;color:#27a7e5;background-color:rgba(39,167,229,.1)&#34;</span> <span style="color:#a6e22e">rel</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;external nofollow noopener noreferrer&#34;</span>&gt;&lt;<span style="color:#f92672">i</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;nexmoefont icon-telegram&#34;</span>&gt;&lt;/<span style="color:#f92672">i</span>&gt; &lt;/<span style="color:#f92672">a</span>&gt;&lt;<span style="color:#f92672">a</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;mdui-ripple&#34;</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;https://twitter.com/nexmoe&#34;</span> <span style="color:#a6e22e">target</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;_blank&#34;</span> <span style="color:#a6e22e">mdui-tooltip</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{content: &#39;Twitter&#39;}&#34;</span> <span style="color:#a6e22e">style</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;color:#1da1f2;background-color:rgba(29,161,242,.1)&#34;</span> <span style="color:#a6e22e">rel</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;external nofollow noopener noreferrer&#34;</span>&gt;&lt;<span style="color:#f92672">i</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;nexmoefont icon-twitter&#34;</span>&gt;&lt;/<span style="color:#f92672">i</span>&gt; &lt;/<span style="color:#f92672">a</span>&gt;&lt;<span style="color:#f92672">a</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;mdui-ripple&#34;</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;https://steamcommunity.com/id/nexmoe&#34;</span> <span style="color:#a6e22e">target</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;_blank&#34;</span> <span style="color:#a6e22e">mdui-tooltip</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{content: &#39;Steam&#39;}&#34;</span> <span style="color:#a6e22e">style</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;color:#0e47a1;background-color:rgba(14,71,161,.1)&#34;</span> <span style="color:#a6e22e">rel</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;external nofollow noopener noreferrer&#34;</span>&gt;&lt;<span style="color:#f92672">i</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;nexmoefont icon-steam&#34;</span>&gt;&lt;/<span style="color:#f92672">i</span>&gt; &lt;/<span style="color:#f92672">a</span>&gt;&lt;<span style="color:#f92672">a</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;mdui-ripple&#34;</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;JavaScript:void(0)&#34;</span> <span style="color:#a6e22e">target</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;_blank&#34;</span> <span style="color:#a6e22e">mdui-tooltip</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{content: &#39;折影轻梦#5789&#39;}&#34;</span> <span style="color:#a6e22e">style</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;color:#3c57a4;background-color:rgba(60,87,164,.1)&#34;</span>&gt;&lt;<span style="color:#f92672">i</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;nexmoefont icon-battlenet&#34;</span>&gt;&lt;/<span style="color:#f92672">i</span>&gt; &lt;/<span style="color:#f92672">a</span>&gt;&lt;<span style="color:#f92672">a</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;mdui-ripple&#34;</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;https://nexmoe.com/atom.xml&#34;</span> <span style="color:#a6e22e">target</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;_blank&#34;</span> <span style="color:#a6e22e">mdui-tooltip</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{content: &#39;RSS&#39;}&#34;</span> <span style="color:#a6e22e">style</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;color:#f78422;background-color:rgba(247,132,34,.1)&#34;</span>&gt;&lt;<span style="color:#f92672">i</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;nexmoefont icon-rss&#34;</span>&gt;&lt;/<span style="color:#f92672">i</span>&gt;&lt;/<span style="color:#f92672">a</span>&gt;&lt;/<span style="color:#f92672">div</span>&gt;
</span></span></code></pre></div><p>但这乱七八糟的，没法动，格式化后插入从后台设置的调用</p>
<pre><code>```html
</code></pre>
<div class="nexmoe-widget-wrap">
   <h3 class="nexmoe-widget-title">社交按钮</h3> 
   <div class="nexmoe-widget nexmoe-social"> 
    <a class="mdui-ripple none1" href="<?php $this->options->bilibili(); ?>" target="_blank" mdui-tooltip="{content: '哔哩哔哩'}" style="color:#e76a8d;background-color:rgba(231,106,141,.1)" rel="external nofollow noopener noreferrer"> <i class="nexmoefont icon-bilibili"></i> </a>
    <a class="mdui-ripple none2" href="<?php $this->options->github(); ?>" target="_blank" mdui-tooltip="{content: 'GitHub'}" style="color:#191717;background-color:rgba(25,23,23,.1)" rel="external nofollow noopener noreferrer"><i class="nexmoefont icon-github"></i> </a>
    <a class="mdui-ripple none3" href="<?php $this->options->zhihu(); ?>" target="_blank" mdui-tooltip="{content: '知乎'}" style="color:#1e88e5;background-color:rgba(30,136,229,.1)" rel="external nofollow noopener noreferrer"><i class="nexmoefont icon-zhihu"></i> </a>
    <a class="mdui-ripple none4" href="<?php $this->options->telegram(); ?>" target="_blank" mdui-tooltip="{content: 'Telegram'}" style="color:#27a7e5;background-color:rgba(39,167,229,.1)" rel="external nofollow noopener noreferrer"><i class="nexmoefont icon-telegram"></i> </a>
    <a class="mdui-ripple none5" href="<?php $this->options->twitter(); ?>" target="_blank" mdui-tooltip="{content: 'Twitter'}" style="color:#1da1f2;background-color:rgba(29,161,242,.1)" rel="external nofollow noopener noreferrer"><i class="nexmoefont icon-twitter"></i> </a>
    <a class="mdui-ripple none6" href="<?php $this->options->steam(); ?>" target="_blank" mdui-tooltip="{content: 'Steam'}" style="color:#0e47a1;background-color:rgba(14,71,161,.1)" rel="external nofollow noopener noreferrer"><i class="nexmoefont icon-steam"></i> </a>
    <a class="mdui-ripple none7" href="JavaScript:void(0)" target="_blank" mdui-tooltip="{content: '<?php $this->options->game(); ?>'}" style="color:#3c57a4;background-color:rgba(60,87,164,.1)"><i class="nexmoefont icon-battlenet"></i> </a>
    <a class="mdui-ripple" href="<?php $this->options->siteUrl(); ?>/feed" target="_blank" mdui-tooltip="{content: 'RSS'}" style="color:#f78422;background-color:rgba(247,132,34,.1)"><i class="nexmoefont icon-rss"></i></a>
   </div>
  </div> 
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>但这些调用实际上是不存在的，所以要去 functions.php 增加以下代码
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  ```php
</span></span><span style="display:flex;"><span>  $bilibili = new Typecho_Widget_Helper_Form_Element_Text(&#39;bilibili&#39;, NULL, NULL, _t(&#39;哔哩哔哩地址&#39;), _t(&#39;社交按钮部件-哔哩哔哩&#39;));
</span></span><span style="display:flex;"><span>    $form-&gt;addInput($bilibili); 
</span></span><span style="display:flex;"><span>      
</span></span><span style="display:flex;"><span>    $github = new Typecho_Widget_Helper_Form_Element_Text(&#39;github&#39;, NULL, NULL, _t(&#39;github地址&#39;), _t(&#39;社交按钮部件-github&#39;));
</span></span><span style="display:flex;"><span>    $form-&gt;addInput($github); 
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>    $zhihu = new Typecho_Widget_Helper_Form_Element_Text(&#39;zhihu&#39;, NULL, NULL, _t(&#39;知乎地址&#39;), _t(&#39;社交按钮部件-知乎&#39;));
</span></span><span style="display:flex;"><span>    $form-&gt;addInput($zhihu); 
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>     $telegram = new Typecho_Widget_Helper_Form_Element_Text(&#39;telegram&#39;, NULL, NULL, _t(&#39;telegram地址&#39;), _t(&#39;社交按钮部件-telegram&#39;));
</span></span><span style="display:flex;"><span>        $form-&gt;addInput($telegram); 
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>     $twitter = new Typecho_Widget_Helper_Form_Element_Text(&#39;twitter&#39;, NULL, NULL, _t(&#39;推特地址&#39;), _t(&#39;社交按钮部件-推特&#39;));
</span></span><span style="display:flex;"><span>        $form-&gt;addInput($twitter); 
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>         $steam = new Typecho_Widget_Helper_Form_Element_Text(&#39;steam&#39;, NULL, NULL, _t(&#39;steam地址&#39;), _t(&#39;社交按钮部件-steam&#39;));
</span></span><span style="display:flex;"><span>        $form-&gt;addInput($steam); 
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>     $game = new Typecho_Widget_Helper_Form_Element_Text(&#39;game&#39;, NULL, NULL, _t(&#39;游戏ID&#39;), _t(&#39;社交按钮部件-游戏ID&#39;));
</span></span><span style="display:flex;"><span>        $form-&gt;addInput($game); 
</span></span></code></pre></div><p>最后的RSS调用，就直接以调用本站链接/feed的方式实现了。
但是运行后发现，rss的图标消失了，我去mdui的图标库并没有找到和 Hexo 版本一样的RSS图标，所以判定是调用了第三方资源。
最后在 Hexo 版本的代码中找到以下代码</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-css" data-lang="css"><span style="display:flex;"><span>@<span style="color:#66d9ef">font-face</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">font-family</span>:<span style="color:#a6e22e">nexmoefont</span><span style="color:#f92672">;</span><span style="color:#f92672">src</span>:<span style="color:#a6e22e">url</span><span style="color:#f92672">(</span><span style="color:#f92672">iconfont</span>.<span style="color:#a6e22e">eot</span><span style="color:#f92672">?</span><span style="color:#f92672">t</span><span style="color:#f92672">=</span><span style="color:#f92672">1581230946722</span><span style="color:#f92672">);</span><span style="color:#f92672">src</span>:<span style="color:#a6e22e">url</span><span style="color:#f92672">(</span><span style="color:#f92672">iconfont</span>.<span style="color:#a6e22e">eot</span><span style="color:#f92672">?</span><span style="color:#f92672">t</span><span style="color:#f92672">=</span><span style="color:#f92672">1581230946722</span>#iefix<span style="color:#f92672">)</span> <span style="color:#f92672">format</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#39;embedded-opentype&#39;</span><span style="color:#f92672">),</span><span style="color:#f92672">url</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#39;data:application/x-font-woff2;charset=utf-8;base64,d09GMgABAAAAABHUAAsAAAAAIAgAABGEAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHEIGVgCHGAqreKJaATYCJAN4Cz4ABCAFhQUHgmEbYRoz0nLSCgzZf33AjaGQg/oFDojEIHSYKLYXCbYWSTWcwd4bduI62MfahwVbTuryt2hbF/yz2YvgaT9z3t8NwRHKU1GngR0WJKKqcVWtNHUyYVmC4Wmb/+7ecSCod4j2YEpauWFjnahgAOrWp66CzVUgFi6NqD+XHS5++ItGPzdXb+U0vzYAxb8HZvgHlsZleWVfRsVzuq+Ah+EQGtoBy7xtb5HWE2pvgFRsTB2pymlNucAVrpGq/t8Rd0J29mRQ4G0uA5xqufzdc7WqBggYwMHk/mqttDsBQEWwLsKQMO/kzR7ObR/08z7x3gV2Q0BGId3xA7IKsAK0ETYVJaLlx0UYHx/2bu2BFeSiWWqzPP07yydQt80bcra7uKsqY+bABu/o5WPVRJhcMjZUrWVDvrkcn5RUiw/FZYWP3uePqbIbVQqlhGV78+L8maMB9mQy/De4pzm660lY5UdCD5ApesbU2AED1vPEuikW8yvJXOmvvjlIG1re8KiEBbWq7cOzw9nwa/9SUtOaTm+FosnAfzM1ybaQk+EXMmeA8cCwK4ceJ74hAwUTuRjxhnmv4xvGWiErKat07n/i1dQ1NbR0dHHZ4LFlx54DR05cgCij6zch3pEVW8AAkzyJAYdnHRgQ2nJwANoEUOBpMxTyFAyDeDLDVagE2AZUBmwHqgDOAlUBH4EC8AmoBvgMVAf8AmoCfgdqAP4FT4uRkqfDSM3TBUZaNAeYDjQPmAO0AJgLtAjQAy0BVgAtA4xAK4BCoFVAEXjWgMnAVjYAbOt89gDvKH+m2leYZeY5kqw677WTWUqCs3SILStAcmwhSWeoKE/3tgmlQmcXOqmYKErPyYZqzg6LSqiqIFvN5+YXq+osrIA3S2WngGyqxoiazy4mUVygQrXAIi87n8zNzDy5RM3O1u3L1LmuqUxEF4SuUAjUrCmHtMgiv/y0tIV53sfgs/8l/NRMpyAMEkaszRIA+JgjJNguJrruF7DkoqX+FV/doWjfc+eMyoPPaPMv338NA+3wLbFsJtpinxMofPPgSmd1ZRTTu/TpVTzryxXHixhC80xNxbOBlXwx35F1BC6VFSOxUdLLPclBpjRH2ms11q7GOru/4GpkRSFjeFJaw0Inkdn1aP8NiUlf1/R6zy0V2yn1Y/tDcfBUrSfnjsRzu8bgPOnEgqVJTN91XBM6i8xRadJpnRYV2aMX6q8nSgZbuTk+9dSa6MG8F1crlUVuOj3FxVRuHXu6QXYvSxgzj5lDhUUuFnqUyZWC5RsfKZtJuVGg72LxhvF7RbGWiQK4eL6Wdbh0qCjri9yBzxviO/jHvPqxNIonrP5P68UV/u/c+FIh68ffpza7HSAJrFePjv1diHYX0PY1aYDd02HSTwRTFiRaCtURx6nMzU1nRpJL4/IkwL7VqlSfaaYta0IUQN3cYErBvWmUFyZBpp/4PRegS9unbV6KpQ/WIgALm6MgLi+GqXlNOY2vbqhEU6gV1cztWMICrW1q+B5CKXmpKHzgt0GAnBQI/MTgl2JKATAVdrb/1MGIAjy9vc1VU9zJ/d/AY2Abyc5POQC+0RHq5l8vVC+49qF10ZI1w91c7cscSxVsv9riaNXB4NrlNf+0VqeTT8z73r4+uNW9ca+0ru/mEtskY/PsXnDdMmLYDKRyjKiuWNSxnzM1Px8Ce0coqqd9fVZgCfeuGhAF9SjKCTkYgCNVJY+noww74Vigk4COkA+/+vGbv4+qrqKvZ21v0wRAt2bksZa+YKQ7Wdi9RdkT9/0H4T3vbmsnBzXM7K6Rh9PeVJDw23fYn04E8zaDGVufPirD3oQUvI/pfsJsIoHRwoCP80Kd/paGLAelV0FzDUxFTVA6qLigp8eAvaMl2AjG5o3NFA5FhUQjOp3EmD+oQNawwta6+xRbNHRRK+yKTpHuhRTfkGuvrLUwHy0H9qLBEgR6zhvuQLktZ27ultlXGoG4xJ7YPvayaPwzUaKFva8XPJCACj2Unc+zbEYcfnWBEsVm19XrAxduXOveSQhjnFPaettsekfuv55HurrHMR+f7vacunM/3pe03xDMXkp8aRKDhmrG8JUViahvfeDBEeN+ZH6MMrz5j3xui7TjOhJL5LdQ/x41ZFgcp4pBqyRKjR5ih+NQfzYX9gAp7c4MTZpKiKX9cEfObUEvV3i4kaNQP05DzoxyBnhLDSvyXbVOLGE+D/XpcKnenHra1I+eWH7uUVP3P0OymgLf5oMl3C8eKIcMatVjY9qmm9uux0G07nZ8fcFEK1lfNNyvR8t3km8WonERyhfzw/nfruzF8Eq7+rqmtKmX667Cq8EGXpnrC5ixIHG5fMDpfxQ+8R8HD5v92pS60TbFa8nfiT/rERaLzZ7zxbJ7yEfNYUia6Fhzt0C2ysfj0jlX9oKxn7WmoFwU2dozHRF9I/21m2yoFj0buwZZQkWvrX+vsy1B/Fg33izte7gufLOw76MLHf63U2kmtBPzxk6yp1vwciylkhI9bMOBtYdcrLQs6xtw4Vydwbm3ufWao85jmo7JiK/opqPrD0/J1GXlZKsS6Gps6/eL1/Ta94t7DzrX2jfJupu+uqu+bS4NWyR9Aw51dWLzGjvlal/zWPM4+VSK84lErto61srSuP+A0fK6iFCTB00EHIv3qAoKVL1eYwmK1BBx1oylk590djyevIxpHUxkkPEEWsMkl965vZQL5MYgZ7W6Y7s61dlFrd7R4TTHnlf8OFMwn/ixb6dIY+WlFZ1IcBHFytz5waa4B6eQpJycJDUGyc1pdtE2MER9INsyhcHSCUlJE6TBQ3uYKTNzVAiFTNESscbg35+Mbr/8suMdnF1ZPhvl/8aVlUAec1ihZMfm0BRdU6mvEmRoIpGm5PWNHxfb+kcuP6W2ojj8Pi/o26URjAcKNTKL9yaKlqyyorC5HvmizOxWhtYOBn5Pd9u3rgqL5r5UyWxsE6fXH/gdnGWG5AjTJopRq3A1qPXIXjkz2403FVWMDR0ZyV6Vn1zJoKjx0oD5eKzQRZJZoWsXhbOd+RqU+RBak+MQJ3GaDYzJPXVj4qIp9C2MUwU69DpZEvd0kvRjUU2A1iJKeU2jips8UxNPa8pry7OCp8QlfrFS4TYmvksk5CjPOyzzWSdOk0c+A/oV8baG2bA8RHQFBsdumXvk2TjhNrHW24qgb46cG84p2rKtJj8gKA9NzdAmjGstsQHxO01VQg8NGY9Lqcb9QQ9hFanE93LxfWRilZuJcxuTiO/Lbu/anAR+J3CFiiPYv/9iynRkSWGMNuG88muBN25AmFooxS7UOdwfbnLnW1GF/jRO4jR1CUYapm3X47Scxrc73GCN5fgchSON78YrA2/cXLFcpzt82Aa24yAYKgzWXGuF1HvFhXly/wu5XGP12/i31UZubnT1qOZ4+QThvXlU9Xv/e5cNNO6P0/RUvD3WQiA8oNRY0GByNjU1CRlBwzyp3ZSXS3zIumz9Zf2DpVTja+4UbrtUvG6k6Hl67hr8V39yYmAhQ83STXV0FDqWmlEYmFl1QABu9YSHHyj1AuTG5ySNK3Ban4bPiS0pd4BQ9LjyhUWanBPuTNb6w1bO/OrPzzoiKEwE7wzLs6Y64HcQFLGIrztKrmQn22e8U6Z43JRnjLOqbau/WbJz8MPmubPKVKBXvVjGn43X9iwWYrxeU/+5YWocmEv0Ansu1+p2NfP6FT0YoQAe6zdFb3fdru8KRqCD/kwTU54J35g6r9qNpV7AP6v1xNfBwa8EzXK1W++lEOEHDrjKI9uSkdxcRJmSKYUxKhkI69jDl3PAdjmfIbx1Kytr5kwhy19L9DWlPWgEzw68nL50qRA6+bjs8HGCQuIlPkGt1q12+iK9jGw9OIu1cdOnf/kcr1sUEuzsvL96XW0ICEOfT0LBU06YFfZLR+hUn+GG4XQZFIpBcENkhCM1nSqKTBkMTwlEbbo28XcWo/FwaiGwkBa3P3L9q2rGcWQ+s3VrwtvhSQYllGYW95HkrtOXQkGmo2A9KbiKOfaVeY6ufhqkPKENTNfvUFDCziJZaVuKzd5idOay9BK/NpYVAkBQhcvuN6LRcMPSw4WwBC4+Ctclivtmt0MGksT6GagUS6SZhQtn5fD3ILaY7AZ+zorJhdJMiThQ+ZOFJIHzdArtsXKiWBdDT/OaH+Clnb6uPUWgV4QLNspDbp8OX3HaebuSj+4KDV/b36o/s3Mn5b3zRh81dklVd97VrfnCgZNvxo6/UZ/hGBFHas9H7OufqQaO9gvP3i6oT9alj58C4lxIbVR5kDm3LUqreRy7Qs6YeW/JOrADu1GPZpFD8d6zWU0ZFokw0TRnFmcOqzH90NuY0jQb7MAtDLa5W1cuR8rQvXXoPKuwqSHFHAx9i2IWBsyNcs8rZwTw9eRWETq1d038KBuT2CRZIl5yOjMQuEt52zb/LBSdULdqPupotIZo16VE/Nb6YyxthxuuY6KHUciCN4mg4TQproeIU0wg/1rAHH38chZxiUzgOfImE4dJ3eVhASqnpTPGU7Eaz1nOWcZiMMtylpPGKyHeb5TTYlWpZmLEPB9roThriOXPfFkQV/qWm1euyrMx5HFT2tTuV4Oc08khtnrcvAjNRNNQdjQlEf6MuqVlxGYyan+4Nu+my6Kp7KD62BdDWe9PFFaddRVPE4pLTtffvnf15K+9TYsyWBK5RONErnIPXLCAK9TfwBwdMWK6saQwRn30wmdnAopByutNvFnsIoeeBYHzpq5LnjZxrs+InLGlWyY7nPFfgbaMLRkxsV7yiHCzy1vW0KBjMtz+Ibt8eD/zhUdbQ8a4yzd2/uNGDVQZfL0WemyJnOr53Kl8pETS5ZE/xbLK8Yz1qPEVIHTnBGgVko5ZzmC2jYwJVDP7fGKTwOjEZaPiHDKnIhl/LQd7fPpkVKLu/IoqttMm7pIZU01bBk23h7spVheEgxGaOwMqVaNTkFOD0WgQWby1rqJG1Dc9bUCJ0DSS+BtC0ROViDPT2ofA18oEBRmX7ewT84sDE3MmqCrWO4s90e3suPZ15UHO/ibewlstRNptmSSd5E4LbzJgwbVlFeST5qWDBWV7UXsSg5ZhyNLn5cJbv7gGMgnhFSv0/Q5gtdn8L+YFVsORAJgvRLwZxgCunGHGDETsx3FRUSfWgD5P9qPXMt92FvqYtmWj/wEAoLe9UFhOKcbXo7c/JB05AID5WiYMvtZa5sFUDkkyXo8Ojj2Inp1xxwD0jD9i9T0tx4m0BB1C/FcZbeL3o2/L7B/NTD4WgbGQyw1CvTfjo58wZWV7Hpz0c9UX2F5m92EiEfE7i/MvbMbDyZdzCW3PjO8buxKAHyvCzoxshR+niBlKuCHj0cDCBdh+F3kkQ/LPAB0MAwGf51rTFyDwoY/JKADYPBEAM0m08fesFrvagmbshG41B8U0fA7EJiXYQP85DBxhc3BsCXPYvNwWzMFz0YTkEQDw9ObMQdh6n4OydolB08BPhmHg/xwG+0BMOEaGwxy2rJgXk0MaBTCOoQW5ys6KTAxWbCGDgJOPCKUHFB//Qzi1S/AhL+BEMajtapOz6gYBfK0c0qG4ErHKcvRqt6oYnIuq4vgKI6tSpLper62pBisTfW0gDgNNQE7JnPXixIgCO1YMZDjxh8FgD6sHL+w5GpfuFeTFyRI63riytbKpRW4E05H52dTJQeGKysJSUoP1I0/ZtZPAcWekVGZvr8AQK2ULuXJtTY5k64qrt7b4OcQA9oG9XYJAJVlRNd0wLdtxPR+XDR5bduw5cOTEmYth+ASGh+b7lNpJoH0/0yIOAdI9x73sMwwp2Lg0xMahrxnalPrVkL6JQTQFcKuMHm2mopSWg5WWR9iP9yFyDkbuKEkPzlGVKPUEDgVrPxPyuOBmS0vOjY2+Y1yuObGurqokkc3xPZz98aIL0oe0nO41uWzbl5LKfeP+vn0EZXGo6UOKkj+lU5Aosl7OlLHcHLpyJBFwLyNHMrRWAwAAAA==&#39;</span><span style="color:#f92672">)</span> <span style="color:#f92672">format</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#39;woff2&#39;</span><span style="color:#f92672">),</span><span style="color:#f92672">url</span><span style="color:#f92672">(</span><span style="color:#f92672">iconfont</span>.<span style="color:#a6e22e">woff</span><span style="color:#f92672">?</span><span style="color:#f92672">t</span><span style="color:#f92672">=</span><span style="color:#f92672">1581230946722</span><span style="color:#f92672">)</span> <span style="color:#f92672">format</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#39;woff&#39;</span><span style="color:#f92672">),</span><span style="color:#f92672">url</span><span style="color:#f92672">(</span><span style="color:#f92672">iconfont</span>.<span style="color:#a6e22e">ttf</span><span style="color:#f92672">?</span><span style="color:#f92672">t</span><span style="color:#f92672">=</span><span style="color:#f92672">1581230946722</span><span style="color:#f92672">)</span> <span style="color:#f92672">format</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#39;truetype&#39;</span><span style="color:#f92672">),</span><span style="color:#f92672">url</span><span style="color:#f92672">(</span><span style="color:#f92672">iconfont</span>.<span style="color:#a6e22e">svg</span><span style="color:#f92672">?</span><span style="color:#f92672">t</span><span style="color:#f92672">=</span><span style="color:#f92672">1581230946722</span>#nexmoefont<span style="color:#f92672">)</span> <span style="color:#f92672">format</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#39;svg&#39;</span><span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>  }
</span></span></code></pre></div><p>然后问题又来了，在小尺寸设备，侧边栏收起后的按钮排列方式不怎么好看，于是我进行了如下修改</p>
<pre><code>```css
</code></pre>
<p>@media screen and (max-width:599px){
#nexmoe-header .nexmoe-social a {
margin: 10px!important;
width: 36px!important;
height: 36px!important;
line-height: 36px !important;
}
}
@media screen and (max-width:1024px){
#nexmoe-header .nexmoe-social a {
margin: 10px;
width: 45px;
height: 45px;
line-height: 45px;
}
}</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>到这里，社交小部件的修改也算是大功告成了。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>## 搜索小部件
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>这个挺简单的，Copy 下Hexo的样式再加入Typecho的代码即可实现
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>```css
</span></span><span style="display:flex;"><span>        #nexmoe-header .nexmoe-search input {
</span></span><span style="display:flex;"><span>        border: none!important;
</span></span><span style="display:flex;"><span>        background-color: transparent;
</span></span><span style="display:flex;"><span>        padding: 20px;
</span></span><span style="display:flex;"><span>        box-sizing: border-box;
</span></span><span style="display:flex;"><span>        outline: 0;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    [type=search] {
</span></span><span style="display:flex;"><span>        -webkit-appearance: textfield;
</span></span><span style="display:flex;"><span>        outline-offset: -2px;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    button, input {
</span></span><span style="display:flex;"><span>        overflow: visible;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    button, input, optgroup, select, textarea {
</span></span><span style="display:flex;"><span>        margin: 0;
</span></span><span style="display:flex;"><span>        font-family: inherit;
</span></span><span style="display:flex;"><span>        font-size: 100%;
</span></span><span style="display:flex;"><span>        line-height: 1.15;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>&lt;/style&gt;
</span></span><span style="display:flex;"><span> &lt;div class=&#34;nexmoe-widget-wrap&#34;&gt;
</span></span><span style="display:flex;"><span>	&lt;div class=&#34;nexmoe-widget nexmoe-search&#34;&gt;
</span></span><span style="display:flex;"><span>	        &lt;form class=&#34;search&#34; method=&#34;post&#34; action=&#34;./search&#34; role=&#34;search&#34; style=&#34;
</span></span><span style="display:flex;"><span>    margin-bottom: 0px;
</span></span><span style="display:flex;"><span>&#34;&gt; 
</span></span><span style="display:flex;"><span>            &lt;input type=&#34;search&#34; placeholder=&#34;搜索&#34; name=&#34;s&#34; class=&#34;search-input&#34; &gt;
</span></span><span style="display:flex;"><span>           &lt;/div&gt;&lt;/div&gt;&lt;/form&gt;
</span></span></code></pre></div><h2 id="文章目录">文章目录</h2>
<p>这个功能是做的最久的，毕竟太麻烦了。
弄 PHP 之前先把 html 搞来，得到以下代码</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-css" data-lang="css"><span style="display:flex;"><span>    .<span style="color:#a6e22e">nexmoe-valign</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">display</span>: <span style="color:#66d9ef">-webkit-</span>box<span style="color:#75715e">!important</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">display</span>: <span style="color:#66d9ef">-webkit-</span><span style="color:#66d9ef">flex</span><span style="color:#75715e">!important</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">display</span>: <span style="color:#66d9ef">-ms-</span>flexbox<span style="color:#75715e">!important</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">display</span>: <span style="color:#66d9ef">flex</span><span style="color:#75715e">!important</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">-webkit-</span>box-align: <span style="color:#66d9ef">center</span><span style="color:#75715e">!important</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">-webkit-</span><span style="color:#66d9ef">align-items</span>: <span style="color:#66d9ef">center</span><span style="color:#75715e">!important</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">-ms-</span>flex-align: <span style="color:#66d9ef">center</span><span style="color:#75715e">!important</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">align-items</span>: <span style="color:#66d9ef">center</span><span style="color:#75715e">!important</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">height</span>: <span style="color:#ae81ff">100</span><span style="color:#66d9ef">%</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>        .<span style="color:#a6e22e">mdui-tab-indicator</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">display</span>: <span style="color:#66d9ef">none</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        .<span style="color:#a6e22e">mdui-tab</span> .<span style="color:#a6e22e">mdui-tab-active</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">color</span>: <span style="color:#ae81ff">#fff</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">background</span>: <span style="color:#ae81ff">#f4a7b9</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">opacity</span>: <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    .<span style="color:#a6e22e">nexmoe-post-right</span> .<span style="color:#a6e22e">nexmoe-toc</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">margin-left</span>: <span style="color:#ae81ff">16</span><span style="color:#66d9ef">px</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">width</span>: <span style="color:#ae81ff">240</span><span style="color:#66d9ef">px</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">margin-left</span>: <span style="color:#ae81ff">0</span><span style="color:#66d9ef">px</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">text-align</span>: <span style="color:#66d9ef">left</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    .<span style="color:#a6e22e">nexmoe-post-right</span> .<span style="color:#a6e22e">nexmoe-toc</span><span style="color:#f92672">&amp;</span><span style="color:#f92672">gt</span><span style="color:#f92672">;</span><span style="color:#f92672">ol</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">padding-left</span>: <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>        .<span style="color:#a6e22e">nexmoe-post-right</span> .<span style="color:#a6e22e">nexmoe-fixed</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">position</span>: <span style="color:#66d9ef">fixed</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">z-index</span>: <span style="color:#ae81ff">1000</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">height</span>: <span style="color:#ae81ff">100</span><span style="color:#66d9ef">vh</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">display</span>: <span style="color:#66d9ef">inline-block</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">top</span>: <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    .<span style="color:#a6e22e">nexmoe-post-right</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">margin</span>: <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">-25</span><span style="color:#66d9ef">px</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">text-align</span>: <span style="color:#66d9ef">right</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    .<span style="color:#a6e22e">nexmoe-post-right</span> .<span style="color:#a6e22e">nexmoe-toc</span> <span style="color:#f92672">li</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">margin</span>: <span style="color:#ae81ff">1</span><span style="color:#66d9ef">em</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    .<span style="color:#a6e22e">nexmoe-toc</span> <span style="color:#f92672">a</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">color</span>: rgba(<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">.6</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    .<span style="color:#a6e22e">nexmoe-toc</span> <span style="color:#f92672">*</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">list-style-type</span>: <span style="color:#66d9ef">decimal</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">color</span>: rgba(<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">.6</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></div><p>然后我觉得再去把百度的Typecho目录弄来就ok了，但谁能想到那代码有Bug，还找不到其它的了，于是就自己改了改，具体方法已经写在上篇文章了<a href="https://lolicorn.com/252.html">Typecho无插件实现目录树</a></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">createCatalog</span>($obj) {
</span></span><span style="display:flex;"><span>    $obj <span style="color:#f92672">=</span> <span style="color:#a6e22e">preg_replace_callback</span>(<span style="color:#e6db74">&#39;/&lt;h([1-6])(.*?)&gt;(.*?)&lt;\/h\1&gt;/i&#39;</span>, <span style="color:#66d9ef">function</span> ($obj) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">global</span> $catalog;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">global</span> $catalog_count;
</span></span><span style="display:flex;"><span>        $catalog_count<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>        $catalog[] <span style="color:#f92672">=</span> <span style="color:#66d9ef">array</span>(<span style="color:#e6db74">&#39;text&#39;</span> <span style="color:#f92672">=&gt;</span> <span style="color:#a6e22e">trim</span>(<span style="color:#a6e22e">strip_tags</span>($obj[<span style="color:#ae81ff">3</span>])), <span style="color:#e6db74">&#39;depth&#39;</span> <span style="color:#f92672">=&gt;</span> $obj[<span style="color:#ae81ff">1</span>], <span style="color:#e6db74">&#39;count&#39;</span> <span style="color:#f92672">=&gt;</span> $catalog_count);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#39;&lt;h&#39;</span><span style="color:#f92672">.</span>$obj[<span style="color:#ae81ff">1</span>]<span style="color:#f92672">.</span>$obj[<span style="color:#ae81ff">2</span>]<span style="color:#f92672">.</span><span style="color:#e6db74">&#39;&gt;&#39;</span><span style="color:#f92672">.</span>$obj[<span style="color:#ae81ff">3</span>]<span style="color:#f92672">.</span><span style="color:#e6db74">&#39;&lt;/h&#39;</span><span style="color:#f92672">.</span>$obj[<span style="color:#ae81ff">1</span>]<span style="color:#f92672">.</span><span style="color:#e6db74">&#39;&gt;&#39;</span>;
</span></span><span style="display:flex;"><span>    }, $obj);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> $obj;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">getCatalog</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">global</span> $catalog;
</span></span><span style="display:flex;"><span>    $index <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> ($catalog) {
</span></span><span style="display:flex;"><span>        $index <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&lt;ul&gt;&#39;</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>;
</span></span><span style="display:flex;"><span>        $prev_depth <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span>;
</span></span><span style="display:flex;"><span>        $to_depth <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">foreach</span> ($catalog <span style="color:#66d9ef">as</span> $catalog_item) {
</span></span><span style="display:flex;"><span>            $catalog_depth <span style="color:#f92672">=</span> $catalog_item[<span style="color:#e6db74">&#39;depth&#39;</span>];
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> ($prev_depth) {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">if</span> ($catalog_depth <span style="color:#f92672">==</span> $prev_depth) {
</span></span><span style="display:flex;"><span>                    $index <span style="color:#f92672">.=</span> <span style="color:#e6db74">&#39;&lt;/li&gt;&#39;</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>;
</span></span><span style="display:flex;"><span>                } <span style="color:#66d9ef">elseif</span> ($catalog_depth <span style="color:#f92672">&gt;</span> $prev_depth) {
</span></span><span style="display:flex;"><span>                    $to_depth<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>                    $index <span style="color:#f92672">.=</span> <span style="color:#e6db74">&#39;&lt;ul&gt;&#39;</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>;
</span></span><span style="display:flex;"><span>                } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>                    $to_depth2 <span style="color:#f92672">=</span> ($to_depth <span style="color:#f92672">&gt;</span> ($prev_depth <span style="color:#f92672">-</span> $catalog_depth)) <span style="color:#f92672">?</span> ($prev_depth <span style="color:#f92672">-</span> $catalog_depth) <span style="color:#f92672">:</span> $to_depth;
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">if</span> ($to_depth2) {
</span></span><span style="display:flex;"><span>                        <span style="color:#66d9ef">for</span> ($i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; $i <span style="color:#f92672">&lt;</span> $to_depth2; $i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>                            $index <span style="color:#f92672">.=</span> <span style="color:#e6db74">&#39;&lt;/li&gt;&#39;</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#39;&lt;/ul&gt;&#39;</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>;
</span></span><span style="display:flex;"><span>                            $to_depth<span style="color:#f92672">--</span>;
</span></span><span style="display:flex;"><span>                        }
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>                    $index <span style="color:#f92672">.=</span> <span style="color:#e6db74">&#39;&lt;/li&gt;&#39;</span>;
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            $index <span style="color:#f92672">.=</span> <span style="color:#e6db74">&#39;&lt;li&gt;&lt;a href=&#34;#&#39;</span><span style="color:#f92672">.</span> $catalog_item[<span style="color:#e6db74">&#39;text&#39;</span>] <span style="color:#f92672">.</span><span style="color:#e6db74">&#39;&#34;&gt;&#39;</span> <span style="color:#f92672">.</span> $catalog_item[<span style="color:#e6db74">&#39;text&#39;</span>] <span style="color:#f92672">.</span> <span style="color:#e6db74">&#39;&lt;/a&gt;&#39;</span>;
</span></span><span style="display:flex;"><span>            $prev_depth <span style="color:#f92672">=</span> $catalog_item[<span style="color:#e6db74">&#39;depth&#39;</span>];
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> ($i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; $i <span style="color:#f92672">&lt;=</span> $to_depth; $i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>            $index <span style="color:#f92672">.=</span> <span style="color:#e6db74">&#39;&lt;/li&gt;&#39;</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#39;&lt;/ul&gt;&#39;</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>       
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">echo</span> $index;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>然后Post.php中进行如下修改</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#f92672">&lt;?</span><span style="color:#a6e22e">php</span>
</span></span><span style="display:flex;"><span>$content <span style="color:#f92672">=</span> <span style="color:#a6e22e">preg_replace</span>(<span style="color:#e6db74">&#39;#&lt;h(.*?)&gt;(.*?)&lt;/h(.*?)&gt;#&#39;</span>,<span style="color:#e6db74">&#39;&lt;h$1 id=&#34;$2&#34;&gt;$2&lt;/h$3&gt;&#39;</span>,$this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">content</span>);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">echo</span> $content;
</span></span><span style="display:flex;"><span><span style="color:#75715e">?&gt;</span><span style="color:#960050;background-color:#1e0010">
</span></span></span></code></pre></div><p>上文提到的百度上的<a href="https://www.offodd.com/76.html">这个版本</a>我使用的时候添加锚点的地方出现了bug，所以就进行了这些修改。</p>
<h2 id="美化代码高亮">美化代码高亮</h2>
<p>这个代码高亮太丑了，真的太丑了&hellip;但是换成prism还要大改，于是就先加了一行</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>hljs {
</span></span><span style="display:flex;"><span>      font-family: Consolas,Monaco,&#39;Andale Mono&#39;,&#39;Ubuntu Mono&#39;,monospace;
</span></span><span style="display:flex;"><span>  }
</span></span></code></pre></div><h2 id="图片灯箱amp相册">图片灯箱&amp;相册</h2>
<p>这个是Catui的功能，毕竟以前是付费主题，所以就没直接开源放出来，我就先自用啦hhh</p>
<h2 id="预览">预览</h2>
<p><a href="https://cdn.ahblog.net/img/titu/nexmoe.png"><img src="https://cdn.ahblog.net/img/titu/nexmoe.png" alt="预览" title="预览"></a></p>
            </article>
        </div>
        <div class="sidebar-tool" style="width: 280px; flex-shrink: 0; position: sticky; top: 20px;">
            
            
            <div class="post-toc black" style="background: rgba(0, 0, 0, .25);border-radius: 15px;padding: 1.2rem;margin-bottom: 20px;">
                <div class="toc-title" style="font-size: 1.1em;font-weight: 600;margin-bottom: 1em;color: rgba(255, 255, 255, 0.95);">目录</div>
                <div class="toc-content" style="font-size: 0.9em;">
                    
                </div>
            </div>
            

            <div class="tags-cloud black" style="background: rgba(0, 0, 0, .25);border-radius: 15px;padding: 1.2rem;margin-bottom: 20px;">
                <div class="tags-title" style="font-size: 1.1em;font-weight: 600;margin-bottom: 1em;color: rgba(255, 255, 255, 0.95);">标签云</div>
                <div class="tags-content" style="display: flex;flex-wrap: wrap;gap: 8px;">
                    
                    
                    
                    <a href="/tags/galgame/" 
                       style="color: rgba(255,255,255,0.8);
                              text-decoration: none;
                              background: rgba(255, 255, 255, 0.08);
                              padding: 4px 10px;
                              border-radius: 12px;
                              font-size: 0.9em;
                              transition: all 0.2s ease;">
                        Galgame 
                        <span style="color: rgba(255,255,255,0.5);font-size: 0.8em;">(1)</span>
                    </a>
                    
                    
                    
                    <a href="/tags/lg/" 
                       style="color: rgba(255,255,255,0.8);
                              text-decoration: none;
                              background: rgba(255, 255, 255, 0.08);
                              padding: 4px 10px;
                              border-radius: 12px;
                              font-size: 0.9em;
                              transition: all 0.2s ease;">
                        LG 
                        <span style="color: rgba(255,255,255,0.5);font-size: 0.8em;">(1)</span>
                    </a>
                    
                    
                    
                    <a href="/tags/linux/" 
                       style="color: rgba(255,255,255,0.8);
                              text-decoration: none;
                              background: rgba(255, 255, 255, 0.08);
                              padding: 4px 10px;
                              border-radius: 12px;
                              font-size: 0.9em;
                              transition: all 0.2s ease;">
                        Linux 
                        <span style="color: rgba(255,255,255,0.5);font-size: 0.8em;">(1)</span>
                    </a>
                    
                    
                    
                    <a href="/tags/mac-os/" 
                       style="color: rgba(255,255,255,0.8);
                              text-decoration: none;
                              background: rgba(255, 255, 255, 0.08);
                              padding: 4px 10px;
                              border-radius: 12px;
                              font-size: 0.9em;
                              transition: all 0.2s ease;">
                        Mac OS 
                        <span style="color: rgba(255,255,255,0.5);font-size: 0.8em;">(1)</span>
                    </a>
                    
                    
                    
                    <a href="/tags/rec/" 
                       style="color: rgba(255,255,255,0.8);
                              text-decoration: none;
                              background: rgba(255, 255, 255, 0.08);
                              padding: 4px 10px;
                              border-radius: 12px;
                              font-size: 0.9em;
                              transition: all 0.2s ease;">
                        Rec 
                        <span style="color: rgba(255,255,255,0.5);font-size: 0.8em;">(1)</span>
                    </a>
                    
                    
                    
                    <a href="/tags/root/" 
                       style="color: rgba(255,255,255,0.8);
                              text-decoration: none;
                              background: rgba(255, 255, 255, 0.08);
                              padding: 4px 10px;
                              border-radius: 12px;
                              font-size: 0.9em;
                              transition: all 0.2s ease;">
                        Root 
                        <span style="color: rgba(255,255,255,0.5);font-size: 0.8em;">(2)</span>
                    </a>
                    
                    
                    
                    <a href="/tags/typecho/" 
                       style="color: rgba(255,255,255,0.8);
                              text-decoration: none;
                              background: rgba(255, 255, 255, 0.08);
                              padding: 4px 10px;
                              border-radius: 12px;
                              font-size: 0.9em;
                              transition: all 0.2s ease;">
                        typecho 
                        <span style="color: rgba(255,255,255,0.5);font-size: 0.8em;">(1)</span>
                    </a>
                    
                    
                    
                    <a href="/tags/windows/" 
                       style="color: rgba(255,255,255,0.8);
                              text-decoration: none;
                              background: rgba(255, 255, 255, 0.08);
                              padding: 4px 10px;
                              border-radius: 12px;
                              font-size: 0.9em;
                              transition: all 0.2s ease;">
                        Windows 
                        <span style="color: rgba(255,255,255,0.5);font-size: 0.8em;">(1)</span>
                    </a>
                    
                    
                    
                    <a href="/tags/xp%E6%A1%86%E6%9E%B6/" 
                       style="color: rgba(255,255,255,0.8);
                              text-decoration: none;
                              background: rgba(255, 255, 255, 0.08);
                              padding: 4px 10px;
                              border-radius: 12px;
                              font-size: 0.9em;
                              transition: all 0.2s ease;">
                        XP框架 
                        <span style="color: rgba(255,255,255,0.5);font-size: 0.8em;">(1)</span>
                    </a>
                    
                    
                    
                    <a href="/tags/%E4%B8%B4%E6%97%B6%E5%85%AC%E5%91%8A/" 
                       style="color: rgba(255,255,255,0.8);
                              text-decoration: none;
                              background: rgba(255, 255, 255, 0.08);
                              padding: 4px 10px;
                              border-radius: 12px;
                              font-size: 0.9em;
                              transition: all 0.2s ease;">
                        临时公告 
                        <span style="color: rgba(255,255,255,0.5);font-size: 0.8em;">(1)</span>
                    </a>
                    
                    
                    
                    <a href="/tags/%E4%B8%BB%E9%A2%98/" 
                       style="color: rgba(255,255,255,0.8);
                              text-decoration: none;
                              background: rgba(255, 255, 255, 0.08);
                              padding: 4px 10px;
                              border-radius: 12px;
                              font-size: 0.9em;
                              transition: all 0.2s ease;">
                        主题 
                        <span style="color: rgba(255,255,255,0.5);font-size: 0.8em;">(1)</span>
                    </a>
                    
                    
                    
                    <a href="/tags/%E5%8F%91%E7%83%AD/" 
                       style="color: rgba(255,255,255,0.8);
                              text-decoration: none;
                              background: rgba(255, 255, 255, 0.08);
                              padding: 4px 10px;
                              border-radius: 12px;
                              font-size: 0.9em;
                              transition: all 0.2s ease;">
                        发热 
                        <span style="color: rgba(255,255,255,0.5);font-size: 0.8em;">(1)</span>
                    </a>
                    
                    
                    
                    <a href="/tags/%E5%B0%8F%E5%8A%9F%E8%83%BD/" 
                       style="color: rgba(255,255,255,0.8);
                              text-decoration: none;
                              background: rgba(255, 255, 255, 0.08);
                              padding: 4px 10px;
                              border-radius: 12px;
                              font-size: 0.9em;
                              transition: all 0.2s ease;">
                        小功能 
                        <span style="color: rgba(255,255,255,0.5);font-size: 0.8em;">(2)</span>
                    </a>
                    
                    
                    
                    <a href="/tags/%E5%B9%B2%E8%B4%A7/" 
                       style="color: rgba(255,255,255,0.8);
                              text-decoration: none;
                              background: rgba(255, 255, 255, 0.08);
                              padding: 4px 10px;
                              border-radius: 12px;
                              font-size: 0.9em;
                              transition: all 0.2s ease;">
                        干货 
                        <span style="color: rgba(255,255,255,0.5);font-size: 0.8em;">(2)</span>
                    </a>
                    
                    
                    
                    <a href="/tags/%E6%80%BB%E7%BB%93/" 
                       style="color: rgba(255,255,255,0.8);
                              text-decoration: none;
                              background: rgba(255, 255, 255, 0.08);
                              padding: 4px 10px;
                              border-radius: 12px;
                              font-size: 0.9em;
                              transition: all 0.2s ease;">
                        总结 
                        <span style="color: rgba(255,255,255,0.5);font-size: 0.8em;">(2)</span>
                    </a>
                    
                    
                    
                    <a href="/tags/%E6%90%9E%E6%9C%BA/" 
                       style="color: rgba(255,255,255,0.8);
                              text-decoration: none;
                              background: rgba(255, 255, 255, 0.08);
                              padding: 4px 10px;
                              border-radius: 12px;
                              font-size: 0.9em;
                              transition: all 0.2s ease;">
                        搞机 
                        <span style="color: rgba(255,255,255,0.5);font-size: 0.8em;">(2)</span>
                    </a>
                    
                    
                    
                    <a href="/tags/%E6%97%A0root/" 
                       style="color: rgba(255,255,255,0.8);
                              text-decoration: none;
                              background: rgba(255, 255, 255, 0.08);
                              padding: 4px 10px;
                              border-radius: 12px;
                              font-size: 0.9em;
                              transition: all 0.2s ease;">
                        无Root 
                        <span style="color: rgba(255,255,255,0.5);font-size: 0.8em;">(1)</span>
                    </a>
                    
                    
                    
                    <a href="/tags/%E6%BC%AB%E7%94%BB/" 
                       style="color: rgba(255,255,255,0.8);
                              text-decoration: none;
                              background: rgba(255, 255, 255, 0.08);
                              padding: 4px 10px;
                              border-radius: 12px;
                              font-size: 0.9em;
                              transition: all 0.2s ease;">
                        漫画 
                        <span style="color: rgba(255,255,255,0.5);font-size: 0.8em;">(1)</span>
                    </a>
                    
                    
                    
                    <a href="/tags/%E7%95%AA%E5%89%A7/" 
                       style="color: rgba(255,255,255,0.8);
                              text-decoration: none;
                              background: rgba(255, 255, 255, 0.08);
                              padding: 4px 10px;
                              border-radius: 12px;
                              font-size: 0.9em;
                              transition: all 0.2s ease;">
                        番剧 
                        <span style="color: rgba(255,255,255,0.5);font-size: 0.8em;">(2)</span>
                    </a>
                    
                    
                    
                    <a href="/tags/%E7%9C%81%E7%94%B5/" 
                       style="color: rgba(255,255,255,0.8);
                              text-decoration: none;
                              background: rgba(255, 255, 255, 0.08);
                              padding: 4px 10px;
                              border-radius: 12px;
                              font-size: 0.9em;
                              transition: all 0.2s ease;">
                        省电 
                        <span style="color: rgba(255,255,255,0.5);font-size: 0.8em;">(2)</span>
                    </a>
                    
                    
                    
                    <a href="/tags/%E7%9F%AD%E8%AF%84/" 
                       style="color: rgba(255,255,255,0.8);
                              text-decoration: none;
                              background: rgba(255, 255, 255, 0.08);
                              padding: 4px 10px;
                              border-radius: 12px;
                              font-size: 0.9em;
                              transition: all 0.2s ease;">
                        短评 
                        <span style="color: rgba(255,255,255,0.5);font-size: 0.8em;">(8)</span>
                    </a>
                    
                    
                    
                    <a href="/tags/%E7%B3%BB%E7%BB%9F/" 
                       style="color: rgba(255,255,255,0.8);
                              text-decoration: none;
                              background: rgba(255, 255, 255, 0.08);
                              padding: 4px 10px;
                              border-radius: 12px;
                              font-size: 0.9em;
                              transition: all 0.2s ease;">
                        系统 
                        <span style="color: rgba(255,255,255,0.5);font-size: 0.8em;">(1)</span>
                    </a>
                    
                    
                    
                    <a href="/tags/%E8%BD%AF%E4%BB%B6%E6%8E%A8%E8%8D%90/" 
                       style="color: rgba(255,255,255,0.8);
                              text-decoration: none;
                              background: rgba(255, 255, 255, 0.08);
                              padding: 4px 10px;
                              border-radius: 12px;
                              font-size: 0.9em;
                              transition: all 0.2s ease;">
                        软件推荐 
                        <span style="color: rgba(255,255,255,0.5);font-size: 0.8em;">(2)</span>
                    </a>
                    
                    
                    
                    <a href="/tags/%E8%BD%BB%E5%B0%8F%E8%AF%B4/" 
                       style="color: rgba(255,255,255,0.8);
                              text-decoration: none;
                              background: rgba(255, 255, 255, 0.08);
                              padding: 4px 10px;
                              border-radius: 12px;
                              font-size: 0.9em;
                              transition: all 0.2s ease;">
                        轻小说 
                        <span style="color: rgba(255,255,255,0.5);font-size: 0.8em;">(4)</span>
                    </a>
                    
                    
                    
                    <a href="/tags/%E9%97%B2%E8%81%8A/" 
                       style="color: rgba(255,255,255,0.8);
                              text-decoration: none;
                              background: rgba(255, 255, 255, 0.08);
                              padding: 4px 10px;
                              border-radius: 12px;
                              font-size: 0.9em;
                              transition: all 0.2s ease;">
                        闲聊 
                        <span style="color: rgba(255,255,255,0.5);font-size: 0.8em;">(1)</span>
                    </a>
                    
                    
                    
                    <a href="/tags/%E9%97%B2%E8%81%8A%E6%9D%82%E8%B0%88/" 
                       style="color: rgba(255,255,255,0.8);
                              text-decoration: none;
                              background: rgba(255, 255, 255, 0.08);
                              padding: 4px 10px;
                              border-radius: 12px;
                              font-size: 0.9em;
                              transition: all 0.2s ease;">
                        闲聊杂谈 
                        <span style="color: rgba(255,255,255,0.5);font-size: 0.8em;">(8)</span>
                    </a>
                    
                </div>
            </div>

            <div class="related-posts black" style="background: rgba(0, 0, 0, .25);border-radius: 15px;padding: 1.2rem;">
                <div class="related-title" style="font-size: 1.1em;font-weight: 600;margin-bottom: 1em;color: rgba(255, 255, 255, 0.95);">相关文章</div>
                <div class="related-content">
                    
                    
                    
                        
                        
                        <a href="/p/598/" style="display: block;color: rgba(255,255,255,0.8);text-decoration: none;margin-bottom: 12px;padding: 8px 12px;border-radius: 8px;transition: all 0.2s ease;background: rgba(255,255,255,0.05);">
                            <div style="font-size: 0.95em;margin-bottom: 4px;">Instantclick无刷新</div>
                            <div style="font-size: 0.8em;color: rgba(255,255,255,0.5);">2021-04-04</div>
                        </a>
                        
                        
                        
                        <a href="/p/552/" style="display: block;color: rgba(255,255,255,0.8);text-decoration: none;margin-bottom: 12px;padding: 8px 12px;border-radius: 8px;transition: all 0.2s ease;background: rgba(255,255,255,0.05);">
                            <div style="font-size: 0.95em;margin-bottom: 4px;">Nexmoe修改记录</div>
                            <div style="font-size: 0.8em;color: rgba(255,255,255,0.5);">2021-01-31</div>
                        </a>
                        
                        
                        
                        <a href="/p/488/" style="display: block;color: rgba(255,255,255,0.8);text-decoration: none;margin-bottom: 12px;padding: 8px 12px;border-radius: 8px;transition: all 0.2s ease;background: rgba(255,255,255,0.05);">
                            <div style="font-size: 0.95em;margin-bottom: 4px;">为Typecho添加日记功能</div>
                            <div style="font-size: 0.8em;color: rgba(255,255,255,0.5);">2020-07-29</div>
                        </a>
                        
                        
                        
                        <a href="/p/487/" style="display: block;color: rgba(255,255,255,0.8);text-decoration: none;margin-bottom: 12px;padding: 8px 12px;border-radius: 8px;transition: all 0.2s ease;background: rgba(255,255,255,0.05);">
                            <div style="font-size: 0.95em;margin-bottom: 4px;">为Typecho添加说说功能</div>
                            <div style="font-size: 0.8em;color: rgba(255,255,255,0.5);">2020-07-29</div>
                        </a>
                        
                        
                        
                        <a href="/p/350/" style="display: block;color: rgba(255,255,255,0.8);text-decoration: none;margin-bottom: 12px;padding: 8px 12px;border-radius: 8px;transition: all 0.2s ease;background: rgba(255,255,255,0.05);">
                            <div style="font-size: 0.95em;margin-bottom: 4px;">谈谈网站防御</div>
                            <div style="font-size: 0.8em;color: rgba(255,255,255,0.5);">2020-04-07</div>
                        </a>
                        
                        
                    
                </div>
            </div>
        </div>
    </div>
</div>



<div class="cardw" style="width: calc(100% - 300px); margin-top: 20px;">
    <div class="comments" style="background: rgba(0, 0, 0, 0.2); border-radius: 15px; padding: 2rem;">
        <div class="comments-title" style="font-size: 1.2em; font-weight: 600; margin-bottom: 1.5em; color: rgba(255, 255, 255, 0.95); padding-bottom: 0.5em; border-bottom: 1px solid rgba(255, 255, 255, 0.1);">评论</div>
        <div id="utterances-container"></div>
        <script>
            document.addEventListener('DOMContentLoaded', function() {
                const utterancesScript = document.createElement('script');
                utterancesScript.src = 'https://utteranc.es/client.js';
                utterancesScript.setAttribute('repo', 'AHCorn\/Blog-Comments');
                utterancesScript.setAttribute('issue-term', 'pathname');
                utterancesScript.setAttribute('theme', 'github-dark');
                utterancesScript.setAttribute('crossorigin', 'anonymous');
                utterancesScript.setAttribute('async', true);

                const container = document.getElementById('utterances-container');
                container.appendChild(utterancesScript);
            });
        </script>
    </div>
</div>


                </div>
            </div>
        </div>
    </div>
    <footer>
    <div class="footer-card">
        <div class="footer-content">
            <span class="site-name">安和Blog</span>
            <span class="divider">·</span>
            <span class="copyright">© 2025</span>
            <span class="divider">·</span>
            <span class="theme-info">Theme by JianHe</span>
            <span class="divider">·</span>
            <span class="built-info">Built with Hugo</span>
            
            <span class="divider">·</span>
            <span class="runtime" id="runtime"></span>
            
            
        </div>
    </div>
</footer>

<script src="https://cdn.staticfile.org/lazysizes/5.2.0/lazysizes.min.js"></script> 
<script>
document.addEventListener("DOMContentLoaded", function() {
    var lazyloadImages = document.getElementsByClassName("lazyload");
    for (var i = 0; i < lazyloadImages.length; i++) {
        lazyloadImages[i].style.opacity = "1";
    }

    function updateRuntime() {
        var runtimeElement = document.getElementById('runtime');
        if (runtimeElement) {
            var startTime = new Date('2017-06-30');
            var currentTime = new Date();
            var timeDiff = currentTime - startTime;
            
            var years = Math.floor(timeDiff / (365 * 24 * 60 * 60 * 1000));
            var days = Math.floor((timeDiff % (365 * 24 * 60 * 60 * 1000)) / (24 * 60 * 60 * 1000));
            
            runtimeElement.textContent = `本站已运行 ${years}年${days}天`;
        }
    }
    
    if (document.getElementById('runtime')) {
        updateRuntime();
        setInterval(updateRuntime, 86400000); 
    }
});
</script>

<style>
footer {
    padding: 1rem 0;
    background-color: #262525;
}

.footer-card {
    max-width: 1400px;
    margin: 0 auto;
    padding: 0 1.5rem;
    text-align: center;
}

.footer-content {
    display: flex;
    justify-content: center;
    align-items: center;
    flex-wrap: wrap;
    gap: 0.5rem;
    font-size: 0.9rem;
}

.divider {
    color: rgba(255, 255, 255, 0.3);
}

.site-name {
    font-weight: bold;
    color: rgba(255, 255, 255, 0.9);
}

.built-info, .runtime, .theme-info, .copyright {
    color: rgba(255, 255, 255, 0.71) !important;
}

@media (max-width: 768px) {
    .footer-content {
        flex-direction: column;
        gap: 0.3rem;
    }
    
    .divider {
        display: none;
    }
}
</style> 
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.26.0/prism.min.js"></script>
    
    <script src="/js/main.js"></script>
</body>
</html> 