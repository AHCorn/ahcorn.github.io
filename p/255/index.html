<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Nexmoe移植记录 - 安和Blog</title>
    
    
    <link rel="stylesheet" href="/css/layout.css?v=1739556165">
    <link rel="stylesheet" href="/css/components.css">
    <link rel="stylesheet" href="/css/sidebar.css?v=1739556165">
    
    
    <link rel="stylesheet" href="/css/jianhe.css?v=1739556165">
    <link rel="stylesheet" href="/css/main.css?v=1739556165">
    <link rel="stylesheet" href="/css/1.0.css?v=1739556165">
    
    
    
    
    
    
    
    
   
    <link rel="stylesheet" href="/css/timeline.css?v=1739556165">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.26.0/themes/prism-okaidia.min.css">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@4.0/dist/fancybox.css"/>
    <script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@4.0/dist/fancybox.umd.js"></script>
    

    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/color-thief/2.3.0/color-thief.umd.js"></script>

    
    <script src="/js/lazyload.js?v=1739556165"></script>

    <link rel="stylesheet" href="/css/mobile-menu.css">

    <style>
        .icon-svg {
            display: inline-block;
            width: 1em;
            height: 1em;
            fill: currentColor;
            vertical-align: -0.125em;
            overflow: visible;
        }
        .icon-svg.icon-lg {
            width: 1.33333em;
            height: 1.33333em;
        }
        .icon-svg.icon-2x {
            width: 2em;
            height: 2em;
        }
        .icon-svg.icon-3x {
            width: 3em;
            height: 3em;
        }
        .social-link .icon-svg {
            margin-right: 0.5em;
        }

         
        .lazy-image {
            opacity: 0;
            transition: all 0.3s ease-in-out;
        }
        .lazy-image.loaded {
            opacity: 1;
        }

         
        [style*="background-image"].lazy-image:not(.loaded),
        [style*="background:url"].lazy-image:not(.loaded),
        [style*="background: url"].lazy-image:not(.loaded) {
            opacity: 0;
        }

         
        .mobile-header-title {
            display: flex;
            align-items: center;
        }
        
        .mobile-avatar {
            display: flex;
            align-items: center;
        }
        
        .mobile-site-title {
            display: flex;
            align-items: center;
        }
        
        .mobile-site-title h1 {
            margin: 0;
        }

    </style>
</head>
<body>
    
    <div class="mobile-header">
        <div class="mobile-header-content">
            <div class="mobile-header-title">
                <a href="/page/about" class="mobile-avatar">
                    <img src="/images/avatar.jpg" alt="安和Blog" loading="eager">
                </a>
                <a href="https://blog.anhe.one" class="mobile-site-title">
                    <h1>安和Blog</h1>
                </a>
            </div>
        </div>
    </div>

    
    <div class="mobile-menu-toggle">
        <span></span>
    </div>

    
    <div class="mobile-menu-overlay"></div>

    
    <div class="mobile-menu">
        <div class="mobile-menu-header">
            <img src="/images/avatar.jpg" alt="安和Blog" loading="eager">
            <h1>安和Blog</h1>
            <p>看似寻常最奇崛，成如容易却艰辛。</p>
        </div>
        <ul class="mobile-menu-nav">
            
            
            
            
            
            
            <li>
                <a href="https://blog.anhe.one/page/archives/">
                    <svg class="icon-svg">
                        <use xlink:href="#icon-page"></use>
                    </svg>
                    归档
                </a>
            </li>
            
            
            
            <li>
                <a href="https://blog.anhe.one/page/about/">
                    <svg class="icon-svg">
                        <use xlink:href="#icon-page"></use>
                    </svg>
                    关于
                </a>
            </li>
            
            
            
            <li>
                <a href="https://blog.anhe.one/page/search/">
                    <svg class="icon-svg">
                        <use xlink:href="#icon-page"></use>
                    </svg>
                    搜索
                </a>
            </li>
            
            
            
            <li>
                <a href="https://blog.anhe.one/page/links/">
                    <svg class="icon-svg">
                        <use xlink:href="#icon-page"></use>
                    </svg>
                    友人
                </a>
            </li>
            
            
        </ul>
        <div class="mobile-social-links">
            
            <a href="https://github.com/AHCorn" target="_blank">
                <svg class="icon-svg">
                    <use xlink:href="#icon-github"></use>
                </svg>
            </a>
            
            
            <a href="https://greasyfork.org/zh-CN/users/1252870-ahcorn" target="_blank">
                <svg class="icon-svg">
                    <use xlink:href="#icon-code-box"></use>
                </svg>
            </a>
            
            
            <a href="mailto:ayanee@protonmail.com">
                <svg class="icon-svg">
                    <use xlink:href="#icon-mail"></use>
                </svg>
            </a>
            
        </div>
    </div>

    
    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
        <symbol id="icon-github" viewBox="0 0 24 24">
            <path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/>
        </symbol>
        <symbol id="icon-menu" viewBox="0 0 24 24">
            <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
        </symbol>
        <symbol id="icon-search" viewBox="0 0 24 24">
            <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
        </symbol>
        <symbol id="icon-close" viewBox="0 0 24 24">
            <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
        </symbol>
        <symbol id="icon-mail" viewBox="0 0 24 24">
            <path d="M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/>
        </symbol>
        <symbol id="icon-code-box" viewBox="0 0 24 24">
            <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-8 5h2v2h-2V8zm0 3h2v2h-2v-2zm-3-3h2v2H8V8zm0 3h2v2H8v-2zm-1 2H5v-2h2v2zm0-3H5V8h2v2zm9 7H8v-2h8v2zm0-4h-2v-2h2v2zm0-3h-2V8h2v2zm3 3h-2v-2h2v2zm0-3h-2V8h2v2z"/>
        </symbol>
        <symbol id="icon-star" viewBox="0 0 24 24">
            <path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/>
        </symbol>
        <symbol id="icon-git-branch" viewBox="0 0 24 24">
            <path d="M13 14c-3.36 0-4.46 1.35-5 2.67V9.83c1.21-.51 2-1.7 2-3.08C10 4.77 8.23 3 6 3S2 4.77 2 7c0 1.38.79 2.57 2 3.08V18c0 1.1.9 2 2 2s2-.9 2-2v-1.17c.54-1.32 1.64-2.67 5-2.67 3.36 0 4.46 1.35 5 2.67V14c1.21-.51 2-1.7 2-3.08 0-2.23-1.77-4-4-4s-4 1.77-4 4c0 1.38.79 2.57 2 3.08zM6 5c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zm10 6c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2z"/>
        </symbol>
        <symbol id="icon-external-link" viewBox="0 0 24 24">
            <path d="M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"/>
        </symbol>
        <symbol id="icon-html5" viewBox="0 0 24 24">
            <path d="M1.5 0h21l-1.91 21.563L11.977 24l-8.564-2.438L1.5 0zm7.031 9.75l-.232-2.718 10.059.003.23-2.622L5.412 4.41l.698 8.01h9.126l-.326 3.426-2.91.804-2.955-.81-.188-2.11H6.248l.33 4.171L12 19.351l5.379-1.443.744-8.157H8.531z"/>
        </symbol>
        <symbol id="icon-css3" viewBox="0 0 24 24">
            <path d="M1.5 0h21l-1.91 21.563L11.977 24l-8.565-2.438L1.5 0zm17.09 4.413L5.41 4.41l.213 2.622 10.125.002-.255 2.716h-6.64l.24 2.573h6.182l-.366 3.523-2.91.804-2.956-.81-.188-2.11h-2.61l.29 3.855L12 19.288l5.373-1.53L18.59 4.414z"/>
        </symbol>
        <symbol id="icon-code-s" viewBox="0 0 24 24">
            <path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"/>
        </symbol>
        <symbol id="icon-database" viewBox="0 0 24 24">
            <path d="M12 2C6.48 2 2 4.69 2 8v8c0 3.31 4.48 6 10 6s10-2.69 10-6V8c0-3.31-4.48-6-10-6zm0 2c4.42 0 8 1.79 8 4s-3.58 4-8 4-8-1.79-8-4 3.58-4 8-4zm0 14c-4.42 0-8-1.79-8-4v-3.08c2.13 1.66 5.24 2.58 8 2.58s5.87-.92 8-2.58V18c0 2.21-3.58 4-8 4z"/>
        </symbol>
        <symbol id="icon-terminal-box" viewBox="0 0 24 24">
            <path d="M20 4H4c-1.11 0-2 .89-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.11-.9-2-2-2zm0 14H4V8h16v10zm-2-1h-6v-2h6v2zM7.5 17l-1.41-1.41L8.67 13l-2.58-2.59L7.5 9l4 4-4 4z"/>
        </symbol>
    </svg>
    <div class="main">
        <div class="main-container">
            <div class="boxa">
                <div class="sidebar-container">
                    <div class="sidebar">
                        <div class="side-bar" style="margin-top:25px;">
    <div class="nav" style="padding-top: 5px;padding-right: 10px;padding-left: 10px;">
        <a href="https://blog.anhe.one">
            <img class="logo2" style="margin-top: 27px;" src="/images/avatar.jpg" alt="安和Blog">
            <hr>
            <div class="tag-list displaynone">
                
                
                
                
                
                
                <a href="https://blog.anhe.one/page/archives/">归档</a>
                
                
                
                <a href="https://blog.anhe.one/page/about/">关于</a>
                
                
                
                <a href="https://blog.anhe.one/page/search/">搜索</a>
                
                
                
                <a href="https://blog.anhe.one/page/links/">友人</a>
                
                
            </div>
            <hr>
            <div class="tag-list displaynone">
                
                <a href="https://blog.anhe.one/categories/acgn%E7%9F%AD%E8%AF%84/">ACGN短评</a>
                
                <a href="https://blog.anhe.one/categories/%E5%85%AC%E5%91%8A/">公告</a>
                
                <a href="https://blog.anhe.one/categories/%E6%8A%98%E8%85%BE%E6%89%8B%E6%9C%BA/">折腾手机</a>
                
                <a href="https://blog.anhe.one/categories/%E6%8A%98%E8%85%BE%E7%94%B5%E8%84%91/">折腾电脑</a>
                
                <a href="https://blog.anhe.one/categories/%E6%8A%98%E8%85%BE%E7%BD%91%E7%AB%99/">折腾网站</a>
                
                <a href="https://blog.anhe.one/categories/%E9%97%B2%E8%81%8A%E6%9D%82%E8%B0%88/">闲聊杂谈</a>
                
            </div>
        </a>
    </div>
</div>


                    </div>
                </div>
                <div class="box">
                    <div class="pctitle">
                        <h1 style="color:#fff;margin-top:0px;margin-bottom:0px;">安和Blog</h1>
                        <p style="color:#fff; margin-top:0px;">看似寻常最奇崛，成如容易却艰辛。</p>
                        <div class="social-links">
                            
                            <a href="https://github.com/AHCorn" class="social-link" target="_blank">
                                <svg class="icon-svg">
                                    <use xlink:href="#icon-github"></use>
                                </svg>
                                <span>Github</span>
                            </a>
                            
                            
                            <a href="https://greasyfork.org/zh-CN/users/1252870-ahcorn" class="social-link" target="_blank">
                                <svg class="icon-svg">
                                    <use xlink:href="#icon-code-box"></use>
                                </svg>
                                <span>Greasyfork</span>
                            </a>
                            
                            
                            <a href="mailto:ayanee@protonmail.com" class="social-link">
                                <svg class="icon-svg">
                                    <use xlink:href="#icon-mail"></use>
                                </svg>
                                <span>Email</span>
                            </a>
                            
                        </div>
                    </div>
                    
<link rel="stylesheet" href="/css/article.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0/dist/fancybox/fancybox.css" />

<div class="page-container">
    
    <div class="card">
        <div class="cover-container">
            
            <div class="cover-image" style="background-image: url('/images/default-cover.jpg');"></div>
            <img src="/images/default-cover.jpg" id="coverImage" style="display: none;" crossorigin="anonymous">
            
            <div class="cover-content">
                <h1 class="cover-title">Nexmoe移植记录</h1>
                <div class="cover-description">
                    
                    <p>我就是 copy 怪hhh，大部分样式来自 Hexo 版本
文章归档 所有移植都要从文章归档页面开始说起，看到 Hexo 版本的文章归档页面感觉很好看，于是就开始移植了。 先用 chrome 的F12 …</p>
                    
                </div>
            </div>
        </div>
        <div id="infoCard">
            <div class="overlay"></div>
            <div class="overlay"></div>
            <div class="info-content">
                <div class="info-item">
                    <i class="fas fa-calendar-alt"></i>
                    发布于 2020年02月23日
                </div>
                <div class="info-item mobile-hide">
                    <i class="fas fa-clock"></i>
                    最后更新于 2020年02月23日
                </div>
                <div class="info-item">
                    <i class="fas fa-folder"></i>
                    归档于：
                    <div class="category-links">
                        
                        
                        <a href="/categories/%E6%8A%98%E8%85%BE%E7%BD%91%E7%AB%99" class="category-link">折腾网站</a>
                        
                        
                    </div>
                </div>
                <div class="info-item mobile-hide">
                    <i class="fas fa-tags"></i>
                    标签：
                    <div class="tag-links">
                        
                        <span class="no-tags">暂无标签</span>
                        
                    </div>
                </div>
            </div>
        </div>
    </div>

    
    <div class="article-container">
        <div class="cardw">
            <article class="post-content">
                <p>我就是 copy 怪hhh，大部分样式来自 Hexo 版本</p>
<h2 id="文章归档">文章归档</h2>
<p>所有移植都要从文章归档页面开始说起，看到 Hexo 版本的文章归档页面感觉很好看，于是就开始移植了。
先用 chrome 的F12看下折影大佬站上的有关样式 全部Copy下来
<img src="https://fly.ahblog.net/blog/typecho/nexmoe-1.png" alt="nexmoe-1.png" title="nexmoe-1.png">
其实最主要的就是 ::before 样式，其它的抄来也用不了啊hhh
然后整理下需要用到的样式，留下来了这些。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-css" data-lang="css"><span style="display:flex;"><span>    .<span style="color:#a6e22e">nexmoe-archives</span> <span style="color:#f92672">li</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">position</span>: <span style="color:#66d9ef">relative</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">padding</span>: <span style="color:#ae81ff">10</span><span style="color:#66d9ef">px</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    .<span style="color:#a6e22e">nexmoe-archives</span> <span style="color:#f92672">li</span>::<span style="color:#a6e22e">before</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">content</span>: <span style="color:#e6db74">&#34;&#34;</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">width</span>: <span style="color:#ae81ff">14</span><span style="color:#66d9ef">px</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">height</span>: <span style="color:#ae81ff">14</span><span style="color:#66d9ef">px</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">background</span>: <span style="color:#ae81ff">#ff4e6a</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">display</span>: <span style="color:#66d9ef">inline-block</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">vertical-align</span>: <span style="color:#66d9ef">middle</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">margin-top</span>: <span style="color:#ae81ff">-2</span><span style="color:#66d9ef">px</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">margin-right</span>: <span style="color:#ae81ff">11</span><span style="color:#66d9ef">px</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">border-radius</span>: <span style="color:#ae81ff">100</span><span style="color:#66d9ef">%</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">border</span>: <span style="color:#ae81ff">3</span><span style="color:#66d9ef">px</span> <span style="color:#66d9ef">solid</span> <span style="color:#ae81ff">#fff</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">z-index</span>: <span style="color:#ae81ff">100</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">position</span>: <span style="color:#66d9ef">relative</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    .<span style="color:#a6e22e">nexmoe-archives</span> <span style="color:#f92672">ul</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">list-style</span>: <span style="color:#66d9ef">none</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">padding-left</span>: <span style="color:#ae81ff">0</span><span style="color:#75715e">!important</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    .<span style="color:#a6e22e">nexmoe-archives</span> <span style="color:#f92672">li</span>::<span style="color:#a6e22e">after</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">content</span>: <span style="color:#e6db74">&#34;&#34;</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">height</span>: <span style="color:#ae81ff">100</span><span style="color:#66d9ef">%</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">width</span>: <span style="color:#ae81ff">2</span><span style="color:#66d9ef">px</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">background</span>: rgba(<span style="color:#ae81ff">255</span>,<span style="color:#ae81ff">78</span>,<span style="color:#ae81ff">106</span>,<span style="color:#ae81ff">.2</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">position</span>: <span style="color:#66d9ef">absolute</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">left</span>: <span style="color:#ae81ff">6</span><span style="color:#66d9ef">px</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">top</span>: <span style="color:#ae81ff">20</span><span style="color:#66d9ef">px</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    .<span style="color:#a6e22e">nexmoe-archives</span> <span style="color:#f92672">span</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">margin-right</span>: <span style="color:#ae81ff">15</span><span style="color:#66d9ef">px</span>;
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></div><p>有了样式了，接下来就是创建归档模板了</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#f92672">&lt;?</span><span style="color:#a6e22e">php</span> 
</span></span><span style="display:flex;"><span><span style="color:#e6db74">/**
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> * 归档页面
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> *
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> * @package custom
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">defined</span>(<span style="color:#e6db74">&#39;__TYPECHO_ROOT_DIR__&#39;</span>)) <span style="color:#66d9ef">exit</span>;
</span></span><span style="display:flex;"><span>$this<span style="color:#f92672">-&amp;</span><span style="color:#a6e22e">gt</span>;<span style="color:#a6e22e">need</span>(<span style="color:#e6db74">&#39;layout/_partial/head.php&#39;</span>); 
</span></span><span style="display:flex;"><span><span style="color:#75715e">?&gt;</span><span style="color:#960050;background-color:#1e0010">
</span></span></span></code></pre></div><p>然后全部复制 page.php的内容粘贴到下边，删除掉这些</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span>            <span style="color:#f92672">&lt;</span><span style="color:#a6e22e">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;nexmoe-post-cover mdui-ripple&#34;</span><span style="color:#f92672">&gt;</span> 
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&lt;?</span><span style="color:#a6e22e">php</span> <span style="color:#66d9ef">if</span> ($this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">fields</span><span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">Cover</span>){ <span style="color:#75715e">?&gt;</span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">                    &lt;img src=&#34;&lt;?php echo $this-&gt;fields-&gt;Cover ?&gt;&#34;&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">                &lt;?php }  else{ ?&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">                    &lt;img src=&#34;&lt;?php echo $this-&gt;options-&gt;background ?&gt;&#34;&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">                &lt;?php } ?&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">                &lt;h1&gt;&lt;?php $this-&gt;title() ?&gt;&lt;/h1&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">            &lt;/div&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">            &lt;div class=&#34;nexmoe-post-meta&#34;&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">                &lt;a&gt;&lt;i class=&#34;nexmoefont icon-calendar-fill&#34;&gt;&lt;/i&gt;&lt;?php $this-&gt;date(&#39;Y年n月d日&#39;);?&gt;&lt;/a&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">                &lt;a&gt;&lt;?php artCount($this-&gt;cid);?&gt; 汉字&lt;/a&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">                &lt;a&gt;&lt;?php post_view($this);?&gt; 围观&lt;/a&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">                &lt;a&gt;&lt;?php $this-&gt;commentsNum(&#39;%d&#39;); ?&gt; 评论&lt;/a&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">            &lt;/div&gt;
</span></span></span></code></pre></div><p>然后再把调用评论删掉</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span> &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;comments&#34;</span>&gt;
</span></span><span style="display:flex;"><span>                <span style="color:#75715e">&lt;?php $this-&gt;need(&#39;comments.php&#39;); ?&gt;</span>
</span></span><span style="display:flex;"><span>            &lt;/<span style="color:#f92672">div</span>&gt;
</span></span></code></pre></div><p>这样我们就得到了个空的页面模板，加入typecho的归档，并仿照 Hexo 的日期输出方式进行修改，得到以下代码</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>              <span style="color:#f92672">&lt;?</span><span style="color:#a6e22e">php</span> 
</span></span><span style="display:flex;"><span>    $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">widget</span>(<span style="color:#e6db74">&#39;Widget_Contents_Post_Recent&#39;</span>, <span style="color:#e6db74">&#39;pageSize=10000&#39;</span>)<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">to</span>($archives);   
</span></span><span style="display:flex;"><span>    $year<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>; $mon<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>; $i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>; $j<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;   
</span></span><span style="display:flex;"><span>    $output <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&lt;div id=&#34;archives&#34;&gt;&#39;</span>;   
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span>($archives<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">next</span>())<span style="color:#f92672">:</span>   
</span></span><span style="display:flex;"><span>        $year_tmp <span style="color:#f92672">=</span> <span style="color:#a6e22e">date</span>(<span style="color:#e6db74">&#39;Y&#39;</span>,$archives<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">created</span>);   
</span></span><span style="display:flex;"><span>        $mon_tmp <span style="color:#f92672">=</span> <span style="color:#a6e22e">date</span>(<span style="color:#e6db74">&#39;m&#39;</span>,$archives<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">created</span>);   
</span></span><span style="display:flex;"><span>        $y<span style="color:#f92672">=</span>$year; $m<span style="color:#f92672">=</span>$mon;   
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> ($mon <span style="color:#f92672">!=</span> $mon_tmp <span style="color:#f92672">&amp;&amp;</span> $mon <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>) $output <span style="color:#f92672">.=</span> <span style="color:#e6db74">&#39;&lt;/ul&gt;&lt;/li&gt;&#39;</span>;   
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> ($year <span style="color:#f92672">!=</span> $year_tmp <span style="color:#f92672">&amp;&amp;</span> $year <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>) $output <span style="color:#f92672">.=</span> <span style="color:#e6db74">&#39;&lt;/ul&gt;&#39;</span>;   
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> ($year <span style="color:#f92672">!=</span> $year_tmp) {   
</span></span><span style="display:flex;"><span>            $year <span style="color:#f92672">=</span> $year_tmp;   
</span></span><span style="display:flex;"><span>            $output <span style="color:#f92672">.=</span> <span style="color:#e6db74">&#39;&lt;h2 &gt;&#39;</span><span style="color:#f92672">.</span> $year <span style="color:#f92672">.</span><span style="color:#e6db74">&#39; 年&lt;/h2&gt;&lt;ul class=&#34;article1&#34;&gt;&#39;</span>; <span style="color:#75715e">//输出年份   
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        }   
</span></span><span style="display:flex;"><span>        $output <span style="color:#f92672">.=</span> <span style="color:#e6db74">&#39;&lt;li&gt;&lt;span&gt;&#39;</span><span style="color:#f92672">.</span><span style="color:#a6e22e">date</span>(<span style="color:#e6db74">&#39;n月d日    &#39;</span>,$archives<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">created</span>)<span style="color:#f92672">.</span><span style="color:#e6db74">&#39;&lt;/span&gt;&lt;a href=&#34;&#39;</span><span style="color:#f92672">.</span>$archives<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">permalink</span> <span style="color:#f92672">.</span><span style="color:#e6db74">&#39;&#34;&gt;&#39;</span><span style="color:#f92672">.</span> $archives<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">title</span> <span style="color:#f92672">.</span><span style="color:#e6db74">&#39;&lt;/a&gt;&lt;/li&gt;&#39;</span>; <span style="color:#75715e">//输出文章日期和标题   
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">endwhile</span>;   
</span></span><span style="display:flex;"><span>    $output <span style="color:#f92672">.=</span> <span style="color:#e6db74">&#39;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&#39;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">echo</span> $output;
</span></span><span style="display:flex;"><span><span style="color:#75715e">?&gt;</span><span style="color:#960050;background-color:#1e0010">
</span></span></span></code></pre></div><pre><code>P.S 这里是把 &lt;?php $this-&gt;content(''); ?&gt;替换掉

## 友情链接
</code></pre>
<p>这项功能是从原先的Catui上直接搞来的，实现其实很简单，就是把原先 catui 有关 link-area 的样式全都 copy 来，再把页面内的输出也改成 catui 友情链接的输出方式即可。
但是使用后就发现，图片大小太小了。
使用 F12 就可以看到是原先的样式定义了 max-width ，于是在 link-area 的样式上也加一行max-width:115px;</p>
<p>图片是变大了，但发现在手机端时，所有友情链接都会出现偏左的现象。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-css" data-lang="css"><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>@<span style="color:#66d9ef">media</span> <span style="color:#f92672">screen</span> <span style="color:#f92672">and</span> <span style="color:#f92672">(</span><span style="color:#f92672">max-width</span><span style="color:#f92672">:</span> <span style="color:#f92672">850px</span><span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>    .<span style="color:#a6e22e">link-area</span> <span style="color:#f92672">a</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">width</span><span style="color:#f92672">:</span> <span style="color:#f92672">calc</span><span style="color:#f92672">(</span><span style="color:#f92672">33</span>.<span style="color:#a6e22e">333333333333336</span><span style="color:#f92672">%</span> <span style="color:#f92672">-</span> <span style="color:#f92672">8px</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></div><p>加一段自适应即可。
但在写本博文时，发现了在 ipad 这种宽屏设备下出现了bug
<img src="https://fly.ahblog.net/blog/typecho/nexmoe-2.png" alt="nexmoe-2.png" title="nexmoe-2.png">
于是为了省事，就直接放弃原先的样式，准备从Hexo版本直接Copy，但是输出部分还是需要修改成这样</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span>    <span style="color:#f92672">&lt;</span><span style="color:#a6e22e">pre</span><span style="color:#f92672">&gt;</span><span style="color:#960050;background-color:#1e0010">`</span>                                                    <span style="color:#f92672">&lt;?</span><span style="color:#a6e22e">php</span>
</span></span><span style="display:flex;"><span>                            $str <span style="color:#f92672">=</span> <span style="color:#a6e22e">preg_replace</span>(<span style="color:#e6db74">&#39;#&lt;li&gt;(.*?)&lt;/li&gt;#&#39;</span>,<span style="color:#e6db74">&#39;&lt;li&gt;$1&lt;/li&gt;&#39;</span>, $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">content</span>);
</span></span><span style="display:flex;"><span>                          $str <span style="color:#f92672">=</span> <span style="color:#a6e22e">preg_replace</span>(<span style="color:#e6db74">&#39;#&lt;li&gt;&lt;/li&gt;#&#39;</span>,<span style="color:#e6db74">&#39;&lt;li&gt;$1&lt;a href=&#34;$2&#34;&gt;&lt;p&gt;$3&lt;/p&gt;&lt;/a&gt;&#39;</span>,$str);
</span></span><span style="display:flex;"><span>                            $str <span style="color:#f92672">=</span> <span style="color:#a6e22e">preg_replace</span>(<span style="color:#e6db74">&#39;#&lt;ul&gt;#&#39;</span>,<span style="color:#e6db74">&#39;&lt;ul&gt;&#39;</span>, $str);
</span></span><span style="display:flex;"><span>                            $str <span style="color:#f92672">=</span> <span style="color:#a6e22e">preg_replace</span>(<span style="color:#e6db74">&#39;#&lt;/ul&gt;#&#39;</span>,<span style="color:#e6db74">&#39;&lt;/ul&gt;&#39;</span>, $str);
</span></span><span style="display:flex;"><span>                         
</span></span><span style="display:flex;"><span>                            $str <span style="color:#f92672">=</span> <span style="color:#a6e22e">preg_replace</span>(<span style="color:#e6db74">&#39;#&lt;a href=&#34;(.*?)&#34;&gt;(.*?)&lt;/a&gt;#&#39;</span>,<span style="color:#e6db74">&#39;&lt;a href=&#34;$1&#34; class=&#34;link-p&#34; target=&#34;_blank&#34; &gt;$2&lt;/a&gt;&#39;</span>,$str);
</span></span><span style="display:flex;"><span>                            <span style="color:#66d9ef">echo</span> $str;
</span></span><span style="display:flex;"><span>                            <span style="color:#75715e">?&gt;</span><span style="color:#960050;background-color:#1e0010">
</span></span></span></code></pre></div><p>然后在页面顶部增加修改后的样式</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-css" data-lang="css"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span><span style="color:#f92672">style</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">article</span> <span style="color:#f92672">ul</span> <span style="color:#f92672">li</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">transition</span>: <span style="color:#66d9ef">all</span> <span style="color:#ae81ff">.03</span><span style="color:#66d9ef">s</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">width</span>: calc(<span style="color:#ae81ff">12.5</span><span style="color:#66d9ef">%</span> <span style="color:#f92672">-</span> <span style="color:#ae81ff">10</span><span style="color:#66d9ef">px</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">margin</span>: <span style="color:#ae81ff">5</span><span style="color:#66d9ef">px</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">border-radius</span>: <span style="color:#ae81ff">4</span><span style="color:#66d9ef">px</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">border</span>: <span style="color:#ae81ff">1</span><span style="color:#66d9ef">px</span> <span style="color:#66d9ef">solid</span> <span style="color:#ae81ff">#eee</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">overflow</span>: <span style="color:#66d9ef">hidden</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>.<span style="color:#a6e22e">link-p</span> {
</span></span><span style="display:flex;"><span> <span style="color:#66d9ef">top</span>: <span style="color:#ae81ff">10</span><span style="color:#66d9ef">px</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">font-size</span>: <span style="color:#ae81ff">15</span><span style="color:#66d9ef">px</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">color</span>: <span style="color:#ae81ff">#606266</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">-webkit-</span><span style="color:#66d9ef">transition</span>: <span style="color:#66d9ef">none</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">transition</span>: <span style="color:#66d9ef">none</span>;
</span></span><span style="display:flex;"><span> <span style="color:#66d9ef">margin-bottom</span>: <span style="color:#ae81ff">5</span><span style="color:#66d9ef">px</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">display</span>: <span style="color:#66d9ef">block</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">position</span>: <span style="color:#66d9ef">relative</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">width</span>: <span style="color:#ae81ff">100</span><span style="color:#66d9ef">%</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">border</span>: <span style="color:#66d9ef">none</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">height</span>:<span style="color:#ae81ff">30</span><span style="color:#66d9ef">px</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">margin-top</span>: <span style="color:#ae81ff">-2</span><span style="color:#66d9ef">px</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">text-align</span>: <span style="color:#66d9ef">center</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">overflow</span>: <span style="color:#66d9ef">hidden</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">text-overflow</span>: <span style="color:#66d9ef">ellipsis</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">white-space</span>: <span style="color:#66d9ef">nowrap</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">article</span> <span style="color:#f92672">ul</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">list-style-type</span>: <span style="color:#66d9ef">none</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">padding</span>: <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">display</span>: <span style="color:#66d9ef">flex</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">flex-direction</span>: <span style="color:#66d9ef">row</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">flex-wrap</span>: <span style="color:#66d9ef">wrap</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">margin</span>: <span style="color:#ae81ff">-5</span><span style="color:#66d9ef">px</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">article</span> <span style="color:#f92672">ul</span> <span style="color:#f92672">li</span> <span style="color:#f92672">img</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">height</span>:<span style="color:#ae81ff">110</span><span style="color:#66d9ef">px</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">width</span>: <span style="color:#ae81ff">100</span><span style="color:#66d9ef">%</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">border-radius</span>: <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">border</span>: <span style="color:#66d9ef">none</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">display</span>: <span style="color:#66d9ef">block</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>@<span style="color:#66d9ef">media</span> <span style="color:#f92672">screen</span> <span style="color:#f92672">and</span> <span style="color:#f92672">(</span><span style="color:#f92672">max-width</span><span style="color:#f92672">:</span> <span style="color:#f92672">768px</span><span style="color:#f92672">)</span> {
</span></span><span style="display:flex;"><span><span style="color:#f92672">article</span> <span style="color:#f92672">ul</span> <span style="color:#f92672">li</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">width</span>: calc(<span style="color:#ae81ff">33.3333333333</span><span style="color:#66d9ef">%</span> <span style="color:#f92672">-</span> <span style="color:#ae81ff">10</span><span style="color:#66d9ef">px</span>);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/</span><span style="color:#f92672">style</span><span style="color:#f92672">&gt;</span>
</span></span></code></pre></div><p>然后就大功告成啦</p>
<h2 id="社交小部件">社交小部件</h2>
<p>搞完页面就该搞小部件了，首先可以看到这个主题设计思路很棒hhh，它是用这种方式调用侧边栏小部件的</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span><span style="color:#a6e22e">aside</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;nexmoe-sidebar&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>	
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;?</span><span style="color:#a6e22e">php</span> 
</span></span><span style="display:flex;"><span>    $widget <span style="color:#f92672">=</span> <span style="color:#a6e22e">explode</span>(<span style="color:#e6db74">&#34;,&#34;</span>,$this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">options</span><span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">widget</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">foreach</span>($widget <span style="color:#66d9ef">as</span> $item){
</span></span><span style="display:flex;"><span>        $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">need</span>(<span style="color:#e6db74">&#39;layout/_widget/&#39;</span><span style="color:#f92672">.</span>$item<span style="color:#f92672">.</span><span style="color:#e6db74">&#39;.php&#39;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">?&gt;</span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">&lt;/aside&gt;
</span></span></span></code></pre></div><p>我们只需要在layout/_widget/文件夹新建一个 social.php 文件即可。
代码就直接 Copy Hexo版本的就行了</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>  &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;nexmoe-widget nexmoe-social&#34;</span>&gt;&lt;<span style="color:#f92672">a</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;mdui-ripple&#34;</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;https://space.bilibili.com/20238211&#34;</span> <span style="color:#a6e22e">target</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;_blank&#34;</span> <span style="color:#a6e22e">mdui-tooltip</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{content: &#39;哔哩哔哩&#39;}&#34;</span> <span style="color:#a6e22e">style</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;color:#e76a8d;background-color:rgba(231,106,141,.1)&#34;</span> <span style="color:#a6e22e">rel</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;external nofollow noopener noreferrer&#34;</span>&gt;&lt;<span style="color:#f92672">i</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;nexmoefont icon-bilibili&#34;</span>&gt;&lt;/<span style="color:#f92672">i</span>&gt; &lt;/<span style="color:#f92672">a</span>&gt;&lt;<span style="color:#f92672">a</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;mdui-ripple&#34;</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;https://github.com/nexmoe/&#34;</span> <span style="color:#a6e22e">target</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;_blank&#34;</span> <span style="color:#a6e22e">mdui-tooltip</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{content: &#39;GitHub&#39;}&#34;</span> <span style="color:#a6e22e">style</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;color:#191717;background-color:rgba(25,23,23,.1)&#34;</span> <span style="color:#a6e22e">rel</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;external nofollow noopener noreferrer&#34;</span>&gt;&lt;<span style="color:#f92672">i</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;nexmoefont icon-github&#34;</span>&gt;&lt;/<span style="color:#f92672">i</span>&gt; &lt;/<span style="color:#f92672">a</span>&gt;&lt;<span style="color:#f92672">a</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;mdui-ripple&#34;</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;https://www.zhihu.com/people/chainwon/&#34;</span> <span style="color:#a6e22e">target</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;_blank&#34;</span> <span style="color:#a6e22e">mdui-tooltip</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{content: &#39;知乎&#39;}&#34;</span> <span style="color:#a6e22e">style</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;color:#1e88e5;background-color:rgba(30,136,229,.1)&#34;</span> <span style="color:#a6e22e">rel</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;external nofollow noopener noreferrer&#34;</span>&gt;&lt;<span style="color:#f92672">i</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;nexmoefont icon-zhihu&#34;</span>&gt;&lt;/<span style="color:#f92672">i</span>&gt; &lt;/<span style="color:#f92672">a</span>&gt;&lt;<span style="color:#f92672">a</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;mdui-ripple&#34;</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;https://t.me/nexmoe&#34;</span> <span style="color:#a6e22e">target</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;_blank&#34;</span> <span style="color:#a6e22e">mdui-tooltip</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{content: &#39;Telegram&#39;}&#34;</span> <span style="color:#a6e22e">style</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;color:#27a7e5;background-color:rgba(39,167,229,.1)&#34;</span> <span style="color:#a6e22e">rel</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;external nofollow noopener noreferrer&#34;</span>&gt;&lt;<span style="color:#f92672">i</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;nexmoefont icon-telegram&#34;</span>&gt;&lt;/<span style="color:#f92672">i</span>&gt; &lt;/<span style="color:#f92672">a</span>&gt;&lt;<span style="color:#f92672">a</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;mdui-ripple&#34;</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;https://twitter.com/nexmoe&#34;</span> <span style="color:#a6e22e">target</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;_blank&#34;</span> <span style="color:#a6e22e">mdui-tooltip</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{content: &#39;Twitter&#39;}&#34;</span> <span style="color:#a6e22e">style</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;color:#1da1f2;background-color:rgba(29,161,242,.1)&#34;</span> <span style="color:#a6e22e">rel</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;external nofollow noopener noreferrer&#34;</span>&gt;&lt;<span style="color:#f92672">i</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;nexmoefont icon-twitter&#34;</span>&gt;&lt;/<span style="color:#f92672">i</span>&gt; &lt;/<span style="color:#f92672">a</span>&gt;&lt;<span style="color:#f92672">a</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;mdui-ripple&#34;</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;https://steamcommunity.com/id/nexmoe&#34;</span> <span style="color:#a6e22e">target</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;_blank&#34;</span> <span style="color:#a6e22e">mdui-tooltip</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{content: &#39;Steam&#39;}&#34;</span> <span style="color:#a6e22e">style</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;color:#0e47a1;background-color:rgba(14,71,161,.1)&#34;</span> <span style="color:#a6e22e">rel</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;external nofollow noopener noreferrer&#34;</span>&gt;&lt;<span style="color:#f92672">i</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;nexmoefont icon-steam&#34;</span>&gt;&lt;/<span style="color:#f92672">i</span>&gt; &lt;/<span style="color:#f92672">a</span>&gt;&lt;<span style="color:#f92672">a</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;mdui-ripple&#34;</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;JavaScript:void(0)&#34;</span> <span style="color:#a6e22e">target</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;_blank&#34;</span> <span style="color:#a6e22e">mdui-tooltip</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{content: &#39;折影轻梦#5789&#39;}&#34;</span> <span style="color:#a6e22e">style</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;color:#3c57a4;background-color:rgba(60,87,164,.1)&#34;</span>&gt;&lt;<span style="color:#f92672">i</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;nexmoefont icon-battlenet&#34;</span>&gt;&lt;/<span style="color:#f92672">i</span>&gt; &lt;/<span style="color:#f92672">a</span>&gt;&lt;<span style="color:#f92672">a</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;mdui-ripple&#34;</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;https://nexmoe.com/atom.xml&#34;</span> <span style="color:#a6e22e">target</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;_blank&#34;</span> <span style="color:#a6e22e">mdui-tooltip</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{content: &#39;RSS&#39;}&#34;</span> <span style="color:#a6e22e">style</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;color:#f78422;background-color:rgba(247,132,34,.1)&#34;</span>&gt;&lt;<span style="color:#f92672">i</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;nexmoefont icon-rss&#34;</span>&gt;&lt;/<span style="color:#f92672">i</span>&gt;&lt;/<span style="color:#f92672">a</span>&gt;&lt;/<span style="color:#f92672">div</span>&gt;
</span></span></code></pre></div><p>但这乱七八糟的，没法动，格式化后插入从后台设置的调用</p>
<pre><code>```html
</code></pre>
<div class="nexmoe-widget-wrap">
   <h3 class="nexmoe-widget-title">社交按钮</h3> 
   <div class="nexmoe-widget nexmoe-social"> 
    <a class="mdui-ripple none1" href="<?php $this->options->bilibili(); ?>" target="_blank" mdui-tooltip="{content: '哔哩哔哩'}" style="color:#e76a8d;background-color:rgba(231,106,141,.1)" rel="external nofollow noopener noreferrer"> <i class="nexmoefont icon-bilibili"></i> </a>
    <a class="mdui-ripple none2" href="<?php $this->options->github(); ?>" target="_blank" mdui-tooltip="{content: 'GitHub'}" style="color:#191717;background-color:rgba(25,23,23,.1)" rel="external nofollow noopener noreferrer"><i class="nexmoefont icon-github"></i> </a>
    <a class="mdui-ripple none3" href="<?php $this->options->zhihu(); ?>" target="_blank" mdui-tooltip="{content: '知乎'}" style="color:#1e88e5;background-color:rgba(30,136,229,.1)" rel="external nofollow noopener noreferrer"><i class="nexmoefont icon-zhihu"></i> </a>
    <a class="mdui-ripple none4" href="<?php $this->options->telegram(); ?>" target="_blank" mdui-tooltip="{content: 'Telegram'}" style="color:#27a7e5;background-color:rgba(39,167,229,.1)" rel="external nofollow noopener noreferrer"><i class="nexmoefont icon-telegram"></i> </a>
    <a class="mdui-ripple none5" href="<?php $this->options->twitter(); ?>" target="_blank" mdui-tooltip="{content: 'Twitter'}" style="color:#1da1f2;background-color:rgba(29,161,242,.1)" rel="external nofollow noopener noreferrer"><i class="nexmoefont icon-twitter"></i> </a>
    <a class="mdui-ripple none6" href="<?php $this->options->steam(); ?>" target="_blank" mdui-tooltip="{content: 'Steam'}" style="color:#0e47a1;background-color:rgba(14,71,161,.1)" rel="external nofollow noopener noreferrer"><i class="nexmoefont icon-steam"></i> </a>
    <a class="mdui-ripple none7" href="JavaScript:void(0)" target="_blank" mdui-tooltip="{content: '<?php $this->options->game(); ?>'}" style="color:#3c57a4;background-color:rgba(60,87,164,.1)"><i class="nexmoefont icon-battlenet"></i> </a>
    <a class="mdui-ripple" href="<?php $this->options->siteUrl(); ?>/feed" target="_blank" mdui-tooltip="{content: 'RSS'}" style="color:#f78422;background-color:rgba(247,132,34,.1)"><i class="nexmoefont icon-rss"></i></a>
   </div>
  </div> 
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>但这些调用实际上是不存在的，所以要去 functions.php 增加以下代码
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  ```php
</span></span><span style="display:flex;"><span>  $bilibili = new Typecho_Widget_Helper_Form_Element_Text(&#39;bilibili&#39;, NULL, NULL, _t(&#39;哔哩哔哩地址&#39;), _t(&#39;社交按钮部件-哔哩哔哩&#39;));
</span></span><span style="display:flex;"><span>    $form-&gt;addInput($bilibili); 
</span></span><span style="display:flex;"><span>      
</span></span><span style="display:flex;"><span>    $github = new Typecho_Widget_Helper_Form_Element_Text(&#39;github&#39;, NULL, NULL, _t(&#39;github地址&#39;), _t(&#39;社交按钮部件-github&#39;));
</span></span><span style="display:flex;"><span>    $form-&gt;addInput($github); 
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>    $zhihu = new Typecho_Widget_Helper_Form_Element_Text(&#39;zhihu&#39;, NULL, NULL, _t(&#39;知乎地址&#39;), _t(&#39;社交按钮部件-知乎&#39;));
</span></span><span style="display:flex;"><span>    $form-&gt;addInput($zhihu); 
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>     $telegram = new Typecho_Widget_Helper_Form_Element_Text(&#39;telegram&#39;, NULL, NULL, _t(&#39;telegram地址&#39;), _t(&#39;社交按钮部件-telegram&#39;));
</span></span><span style="display:flex;"><span>        $form-&gt;addInput($telegram); 
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>     $twitter = new Typecho_Widget_Helper_Form_Element_Text(&#39;twitter&#39;, NULL, NULL, _t(&#39;推特地址&#39;), _t(&#39;社交按钮部件-推特&#39;));
</span></span><span style="display:flex;"><span>        $form-&gt;addInput($twitter); 
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>         $steam = new Typecho_Widget_Helper_Form_Element_Text(&#39;steam&#39;, NULL, NULL, _t(&#39;steam地址&#39;), _t(&#39;社交按钮部件-steam&#39;));
</span></span><span style="display:flex;"><span>        $form-&gt;addInput($steam); 
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>     $game = new Typecho_Widget_Helper_Form_Element_Text(&#39;game&#39;, NULL, NULL, _t(&#39;游戏ID&#39;), _t(&#39;社交按钮部件-游戏ID&#39;));
</span></span><span style="display:flex;"><span>        $form-&gt;addInput($game); 
</span></span></code></pre></div><p>最后的RSS调用，就直接以调用本站链接/feed的方式实现了。
但是运行后发现，rss的图标消失了，我去mdui的图标库并没有找到和 Hexo 版本一样的RSS图标，所以判定是调用了第三方资源。
最后在 Hexo 版本的代码中找到以下代码</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-css" data-lang="css"><span style="display:flex;"><span>@<span style="color:#66d9ef">font-face</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">font-family</span>:<span style="color:#a6e22e">nexmoefont</span><span style="color:#f92672">;</span><span style="color:#f92672">src</span>:<span style="color:#a6e22e">url</span><span style="color:#f92672">(</span><span style="color:#f92672">iconfont</span>.<span style="color:#a6e22e">eot</span><span style="color:#f92672">?</span><span style="color:#f92672">t</span><span style="color:#f92672">=</span><span style="color:#f92672">1581230946722</span><span style="color:#f92672">);</span><span style="color:#f92672">src</span>:<span style="color:#a6e22e">url</span><span style="color:#f92672">(</span><span style="color:#f92672">iconfont</span>.<span style="color:#a6e22e">eot</span><span style="color:#f92672">?</span><span style="color:#f92672">t</span><span style="color:#f92672">=</span><span style="color:#f92672">1581230946722</span>#iefix<span style="color:#f92672">)</span> <span style="color:#f92672">format</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#39;embedded-opentype&#39;</span><span style="color:#f92672">),</span><span style="color:#f92672">url</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#39;data:application/x-font-woff2;charset=utf-8;base64,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&#39;</span><span style="color:#f92672">)</span> <span style="color:#f92672">format</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#39;woff2&#39;</span><span style="color:#f92672">),</span><span style="color:#f92672">url</span><span style="color:#f92672">(</span><span style="color:#f92672">iconfont</span>.<span style="color:#a6e22e">woff</span><span style="color:#f92672">?</span><span style="color:#f92672">t</span><span style="color:#f92672">=</span><span style="color:#f92672">1581230946722</span><span style="color:#f92672">)</span> <span style="color:#f92672">format</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#39;woff&#39;</span><span style="color:#f92672">),</span><span style="color:#f92672">url</span><span style="color:#f92672">(</span><span style="color:#f92672">iconfont</span>.<span style="color:#a6e22e">ttf</span><span style="color:#f92672">?</span><span style="color:#f92672">t</span><span style="color:#f92672">=</span><span style="color:#f92672">1581230946722</span><span style="color:#f92672">)</span> <span style="color:#f92672">format</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#39;truetype&#39;</span><span style="color:#f92672">),</span><span style="color:#f92672">url</span><span style="color:#f92672">(</span><span style="color:#f92672">iconfont</span>.<span style="color:#a6e22e">svg</span><span style="color:#f92672">?</span><span style="color:#f92672">t</span><span style="color:#f92672">=</span><span style="color:#f92672">1581230946722</span>#nexmoefont<span style="color:#f92672">)</span> <span style="color:#f92672">format</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#39;svg&#39;</span><span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>  }
</span></span></code></pre></div><p>然后问题又来了，在小尺寸设备，侧边栏收起后的按钮排列方式不怎么好看，于是我进行了如下修改</p>
<pre><code>```css
</code></pre>
<p>@media screen and (max-width:599px){
#nexmoe-header .nexmoe-social a {
margin: 10px!important;
width: 36px!important;
height: 36px!important;
line-height: 36px !important;
}
}
@media screen and (max-width:1024px){
#nexmoe-header .nexmoe-social a {
margin: 10px;
width: 45px;
height: 45px;
line-height: 45px;
}
}</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>到这里，社交小部件的修改也算是大功告成了。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>## 搜索小部件
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>这个挺简单的，Copy 下Hexo的样式再加入Typecho的代码即可实现
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>```css
</span></span><span style="display:flex;"><span>        #nexmoe-header .nexmoe-search input {
</span></span><span style="display:flex;"><span>        border: none!important;
</span></span><span style="display:flex;"><span>        background-color: transparent;
</span></span><span style="display:flex;"><span>        padding: 20px;
</span></span><span style="display:flex;"><span>        box-sizing: border-box;
</span></span><span style="display:flex;"><span>        outline: 0;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    [type=search] {
</span></span><span style="display:flex;"><span>        -webkit-appearance: textfield;
</span></span><span style="display:flex;"><span>        outline-offset: -2px;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    button, input {
</span></span><span style="display:flex;"><span>        overflow: visible;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    button, input, optgroup, select, textarea {
</span></span><span style="display:flex;"><span>        margin: 0;
</span></span><span style="display:flex;"><span>        font-family: inherit;
</span></span><span style="display:flex;"><span>        font-size: 100%;
</span></span><span style="display:flex;"><span>        line-height: 1.15;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>&lt;/style&gt;
</span></span><span style="display:flex;"><span> &lt;div class=&#34;nexmoe-widget-wrap&#34;&gt;
</span></span><span style="display:flex;"><span>	&lt;div class=&#34;nexmoe-widget nexmoe-search&#34;&gt;
</span></span><span style="display:flex;"><span>	        &lt;form class=&#34;search&#34; method=&#34;post&#34; action=&#34;./search&#34; role=&#34;search&#34; style=&#34;
</span></span><span style="display:flex;"><span>    margin-bottom: 0px;
</span></span><span style="display:flex;"><span>&#34;&gt; 
</span></span><span style="display:flex;"><span>            &lt;input type=&#34;search&#34; placeholder=&#34;搜索&#34; name=&#34;s&#34; class=&#34;search-input&#34; &gt;
</span></span><span style="display:flex;"><span>           &lt;/div&gt;&lt;/div&gt;&lt;/form&gt;
</span></span></code></pre></div><h2 id="文章目录">文章目录</h2>
<p>这个功能是做的最久的，毕竟太麻烦了。
弄 PHP 之前先把 html 搞来，得到以下代码</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-css" data-lang="css"><span style="display:flex;"><span>    .<span style="color:#a6e22e">nexmoe-valign</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">display</span>: <span style="color:#66d9ef">-webkit-</span>box<span style="color:#75715e">!important</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">display</span>: <span style="color:#66d9ef">-webkit-</span><span style="color:#66d9ef">flex</span><span style="color:#75715e">!important</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">display</span>: <span style="color:#66d9ef">-ms-</span>flexbox<span style="color:#75715e">!important</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">display</span>: <span style="color:#66d9ef">flex</span><span style="color:#75715e">!important</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">-webkit-</span>box-align: <span style="color:#66d9ef">center</span><span style="color:#75715e">!important</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">-webkit-</span><span style="color:#66d9ef">align-items</span>: <span style="color:#66d9ef">center</span><span style="color:#75715e">!important</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">-ms-</span>flex-align: <span style="color:#66d9ef">center</span><span style="color:#75715e">!important</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">align-items</span>: <span style="color:#66d9ef">center</span><span style="color:#75715e">!important</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">height</span>: <span style="color:#ae81ff">100</span><span style="color:#66d9ef">%</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>        .<span style="color:#a6e22e">mdui-tab-indicator</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">display</span>: <span style="color:#66d9ef">none</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        .<span style="color:#a6e22e">mdui-tab</span> .<span style="color:#a6e22e">mdui-tab-active</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">color</span>: <span style="color:#ae81ff">#fff</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">background</span>: <span style="color:#ae81ff">#f4a7b9</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">opacity</span>: <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    .<span style="color:#a6e22e">nexmoe-post-right</span> .<span style="color:#a6e22e">nexmoe-toc</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">margin-left</span>: <span style="color:#ae81ff">16</span><span style="color:#66d9ef">px</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">width</span>: <span style="color:#ae81ff">240</span><span style="color:#66d9ef">px</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">margin-left</span>: <span style="color:#ae81ff">0</span><span style="color:#66d9ef">px</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">text-align</span>: <span style="color:#66d9ef">left</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    .<span style="color:#a6e22e">nexmoe-post-right</span> .<span style="color:#a6e22e">nexmoe-toc</span><span style="color:#f92672">&amp;</span><span style="color:#f92672">gt</span><span style="color:#f92672">;</span><span style="color:#f92672">ol</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">padding-left</span>: <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>        .<span style="color:#a6e22e">nexmoe-post-right</span> .<span style="color:#a6e22e">nexmoe-fixed</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">position</span>: <span style="color:#66d9ef">fixed</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">z-index</span>: <span style="color:#ae81ff">1000</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">height</span>: <span style="color:#ae81ff">100</span><span style="color:#66d9ef">vh</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">display</span>: <span style="color:#66d9ef">inline-block</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">top</span>: <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    .<span style="color:#a6e22e">nexmoe-post-right</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">margin</span>: <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">-25</span><span style="color:#66d9ef">px</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">text-align</span>: <span style="color:#66d9ef">right</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    .<span style="color:#a6e22e">nexmoe-post-right</span> .<span style="color:#a6e22e">nexmoe-toc</span> <span style="color:#f92672">li</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">margin</span>: <span style="color:#ae81ff">1</span><span style="color:#66d9ef">em</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    .<span style="color:#a6e22e">nexmoe-toc</span> <span style="color:#f92672">a</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">color</span>: rgba(<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">.6</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    .<span style="color:#a6e22e">nexmoe-toc</span> <span style="color:#f92672">*</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">list-style-type</span>: <span style="color:#66d9ef">decimal</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">color</span>: rgba(<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">.6</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></div><p>然后我觉得再去把百度的Typecho目录弄来就ok了，但谁能想到那代码有Bug，还找不到其它的了，于是就自己改了改，具体方法已经写在上篇文章了<a href="https://lolicorn.com/252.html">Typecho无插件实现目录树</a></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">createCatalog</span>($obj) {
</span></span><span style="display:flex;"><span>    $obj <span style="color:#f92672">=</span> <span style="color:#a6e22e">preg_replace_callback</span>(<span style="color:#e6db74">&#39;/&lt;h([1-6])(.*?)&gt;(.*?)&lt;\/h\1&gt;/i&#39;</span>, <span style="color:#66d9ef">function</span> ($obj) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">global</span> $catalog;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">global</span> $catalog_count;
</span></span><span style="display:flex;"><span>        $catalog_count<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>        $catalog[] <span style="color:#f92672">=</span> <span style="color:#66d9ef">array</span>(<span style="color:#e6db74">&#39;text&#39;</span> <span style="color:#f92672">=&gt;</span> <span style="color:#a6e22e">trim</span>(<span style="color:#a6e22e">strip_tags</span>($obj[<span style="color:#ae81ff">3</span>])), <span style="color:#e6db74">&#39;depth&#39;</span> <span style="color:#f92672">=&gt;</span> $obj[<span style="color:#ae81ff">1</span>], <span style="color:#e6db74">&#39;count&#39;</span> <span style="color:#f92672">=&gt;</span> $catalog_count);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#39;&lt;h&#39;</span><span style="color:#f92672">.</span>$obj[<span style="color:#ae81ff">1</span>]<span style="color:#f92672">.</span>$obj[<span style="color:#ae81ff">2</span>]<span style="color:#f92672">.</span><span style="color:#e6db74">&#39;&gt;&#39;</span><span style="color:#f92672">.</span>$obj[<span style="color:#ae81ff">3</span>]<span style="color:#f92672">.</span><span style="color:#e6db74">&#39;&lt;/h&#39;</span><span style="color:#f92672">.</span>$obj[<span style="color:#ae81ff">1</span>]<span style="color:#f92672">.</span><span style="color:#e6db74">&#39;&gt;&#39;</span>;
</span></span><span style="display:flex;"><span>    }, $obj);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> $obj;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">getCatalog</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">global</span> $catalog;
</span></span><span style="display:flex;"><span>    $index <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> ($catalog) {
</span></span><span style="display:flex;"><span>        $index <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&lt;ul&gt;&#39;</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>;
</span></span><span style="display:flex;"><span>        $prev_depth <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span>;
</span></span><span style="display:flex;"><span>        $to_depth <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">foreach</span> ($catalog <span style="color:#66d9ef">as</span> $catalog_item) {
</span></span><span style="display:flex;"><span>            $catalog_depth <span style="color:#f92672">=</span> $catalog_item[<span style="color:#e6db74">&#39;depth&#39;</span>];
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> ($prev_depth) {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">if</span> ($catalog_depth <span style="color:#f92672">==</span> $prev_depth) {
</span></span><span style="display:flex;"><span>                    $index <span style="color:#f92672">.=</span> <span style="color:#e6db74">&#39;&lt;/li&gt;&#39;</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>;
</span></span><span style="display:flex;"><span>                } <span style="color:#66d9ef">elseif</span> ($catalog_depth <span style="color:#f92672">&gt;</span> $prev_depth) {
</span></span><span style="display:flex;"><span>                    $to_depth<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>                    $index <span style="color:#f92672">.=</span> <span style="color:#e6db74">&#39;&lt;ul&gt;&#39;</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>;
</span></span><span style="display:flex;"><span>                } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>                    $to_depth2 <span style="color:#f92672">=</span> ($to_depth <span style="color:#f92672">&gt;</span> ($prev_depth <span style="color:#f92672">-</span> $catalog_depth)) <span style="color:#f92672">?</span> ($prev_depth <span style="color:#f92672">-</span> $catalog_depth) <span style="color:#f92672">:</span> $to_depth;
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">if</span> ($to_depth2) {
</span></span><span style="display:flex;"><span>                        <span style="color:#66d9ef">for</span> ($i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; $i <span style="color:#f92672">&lt;</span> $to_depth2; $i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>                            $index <span style="color:#f92672">.=</span> <span style="color:#e6db74">&#39;&lt;/li&gt;&#39;</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#39;&lt;/ul&gt;&#39;</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>;
</span></span><span style="display:flex;"><span>                            $to_depth<span style="color:#f92672">--</span>;
</span></span><span style="display:flex;"><span>                        }
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>                    $index <span style="color:#f92672">.=</span> <span style="color:#e6db74">&#39;&lt;/li&gt;&#39;</span>;
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            $index <span style="color:#f92672">.=</span> <span style="color:#e6db74">&#39;&lt;li&gt;&lt;a href=&#34;#&#39;</span><span style="color:#f92672">.</span> $catalog_item[<span style="color:#e6db74">&#39;text&#39;</span>] <span style="color:#f92672">.</span><span style="color:#e6db74">&#39;&#34;&gt;&#39;</span> <span style="color:#f92672">.</span> $catalog_item[<span style="color:#e6db74">&#39;text&#39;</span>] <span style="color:#f92672">.</span> <span style="color:#e6db74">&#39;&lt;/a&gt;&#39;</span>;
</span></span><span style="display:flex;"><span>            $prev_depth <span style="color:#f92672">=</span> $catalog_item[<span style="color:#e6db74">&#39;depth&#39;</span>];
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> ($i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; $i <span style="color:#f92672">&lt;=</span> $to_depth; $i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>            $index <span style="color:#f92672">.=</span> <span style="color:#e6db74">&#39;&lt;/li&gt;&#39;</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#39;&lt;/ul&gt;&#39;</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>       
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">echo</span> $index;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>然后Post.php中进行如下修改</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#f92672">&lt;?</span><span style="color:#a6e22e">php</span>
</span></span><span style="display:flex;"><span>$content <span style="color:#f92672">=</span> <span style="color:#a6e22e">preg_replace</span>(<span style="color:#e6db74">&#39;#&lt;h(.*?)&gt;(.*?)&lt;/h(.*?)&gt;#&#39;</span>,<span style="color:#e6db74">&#39;&lt;h$1 id=&#34;$2&#34;&gt;$2&lt;/h$3&gt;&#39;</span>,$this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">content</span>);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">echo</span> $content;
</span></span><span style="display:flex;"><span><span style="color:#75715e">?&gt;</span><span style="color:#960050;background-color:#1e0010">
</span></span></span></code></pre></div><p>上文提到的百度上的<a href="https://www.offodd.com/76.html">这个版本</a>我使用的时候添加锚点的地方出现了bug，所以就进行了这些修改。</p>
<h2 id="美化代码高亮">美化代码高亮</h2>
<p>这个代码高亮太丑了，真的太丑了&hellip;但是换成prism还要大改，于是就先加了一行</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>hljs {
</span></span><span style="display:flex;"><span>      font-family: Consolas,Monaco,&#39;Andale Mono&#39;,&#39;Ubuntu Mono&#39;,monospace;
</span></span><span style="display:flex;"><span>  }
</span></span></code></pre></div><h2 id="图片灯箱amp相册">图片灯箱&amp;相册</h2>
<p>这个是Catui的功能，毕竟以前是付费主题，所以就没直接开源放出来，我就先自用啦hhh</p>
<h2 id="预览">预览</h2>
<p><a href="https://cdn.ahblog.net/img/titu/nexmoe.png"><img src="https://cdn.ahblog.net/img/titu/nexmoe.png" alt="预览" title="预览"></a></p>
            </article>
        </div>
        <div class="sidebar-tool">
            
            
            <div class="post-toc">
                <div class="toc-title">目录</div>
                <div class="toc-content">
                    
                </div>
            </div>
            

            <div class="tags-cloud">
                <div class="tags-title">标签云</div>
                <div class="tags-content">
                    
                    
                    
                    <a href="/tags/galgame/">
                        Galgame 
                        <span class="tag-count">(1)</span>
                    </a>
                    
                    
                    
                    <a href="/tags/lg/">
                        LG 
                        <span class="tag-count">(1)</span>
                    </a>
                    
                    
                    
                    <a href="/tags/linux/">
                        Linux 
                        <span class="tag-count">(1)</span>
                    </a>
                    
                    
                    
                    <a href="/tags/mac-os/">
                        Mac OS 
                        <span class="tag-count">(1)</span>
                    </a>
                    
                    
                    
                    <a href="/tags/rec/">
                        Rec 
                        <span class="tag-count">(1)</span>
                    </a>
                    
                    
                    
                    <a href="/tags/root/">
                        Root 
                        <span class="tag-count">(2)</span>
                    </a>
                    
                    
                    
                    <a href="/tags/typecho/">
                        typecho 
                        <span class="tag-count">(1)</span>
                    </a>
                    
                    
                    
                    <a href="/tags/windows/">
                        Windows 
                        <span class="tag-count">(1)</span>
                    </a>
                    
                    
                    
                    <a href="/tags/xp%E6%A1%86%E6%9E%B6/">
                        XP框架 
                        <span class="tag-count">(1)</span>
                    </a>
                    
                    
                    
                    <a href="/tags/%E4%B8%B4%E6%97%B6%E5%85%AC%E5%91%8A/">
                        临时公告 
                        <span class="tag-count">(1)</span>
                    </a>
                    
                    
                    
                    <a href="/tags/%E4%B8%BB%E9%A2%98/">
                        主题 
                        <span class="tag-count">(1)</span>
                    </a>
                    
                    
                    
                    <a href="/tags/%E5%8F%91%E7%83%AD/">
                        发热 
                        <span class="tag-count">(1)</span>
                    </a>
                    
                    
                    
                    <a href="/tags/%E5%B0%8F%E5%8A%9F%E8%83%BD/">
                        小功能 
                        <span class="tag-count">(2)</span>
                    </a>
                    
                    
                    
                    <a href="/tags/%E5%B9%B2%E8%B4%A7/">
                        干货 
                        <span class="tag-count">(2)</span>
                    </a>
                    
                    
                    
                    <a href="/tags/%E6%80%BB%E7%BB%93/">
                        总结 
                        <span class="tag-count">(2)</span>
                    </a>
                    
                    
                    
                    <a href="/tags/%E6%90%9E%E6%9C%BA/">
                        搞机 
                        <span class="tag-count">(2)</span>
                    </a>
                    
                    
                    
                    <a href="/tags/%E6%97%A0root/">
                        无Root 
                        <span class="tag-count">(1)</span>
                    </a>
                    
                    
                    
                    <a href="/tags/%E6%BC%AB%E7%94%BB/">
                        漫画 
                        <span class="tag-count">(1)</span>
                    </a>
                    
                    
                    
                    <a href="/tags/%E7%95%AA%E5%89%A7/">
                        番剧 
                        <span class="tag-count">(2)</span>
                    </a>
                    
                    
                    
                    <a href="/tags/%E7%9C%81%E7%94%B5/">
                        省电 
                        <span class="tag-count">(2)</span>
                    </a>
                    
                    
                    
                    <a href="/tags/%E7%9F%AD%E8%AF%84/">
                        短评 
                        <span class="tag-count">(8)</span>
                    </a>
                    
                    
                    
                    <a href="/tags/%E7%B3%BB%E7%BB%9F/">
                        系统 
                        <span class="tag-count">(1)</span>
                    </a>
                    
                    
                    
                    <a href="/tags/%E8%BD%AF%E4%BB%B6%E6%8E%A8%E8%8D%90/">
                        软件推荐 
                        <span class="tag-count">(2)</span>
                    </a>
                    
                    
                    
                    <a href="/tags/%E8%BD%BB%E5%B0%8F%E8%AF%B4/">
                        轻小说 
                        <span class="tag-count">(4)</span>
                    </a>
                    
                    
                    
                    <a href="/tags/%E9%97%B2%E8%81%8A/">
                        闲聊 
                        <span class="tag-count">(1)</span>
                    </a>
                    
                    
                    
                    <a href="/tags/%E9%97%B2%E8%81%8A%E6%9D%82%E8%B0%88/">
                        闲聊杂谈 
                        <span class="tag-count">(8)</span>
                    </a>
                    
                </div>
            </div>

            <div class="related-posts">
                <div class="related-title">相关文章</div>
                <div class="related-content">
                    
                    
                    
                        
                        <a href="/p/598/">
                            <div class="related-post-title">Instantclick无刷新</div>
                            <div class="post-date">2021-04-04</div>
                        </a>
                        
                        <a href="/p/552/">
                            <div class="related-post-title">Nexmoe修改记录</div>
                            <div class="post-date">2021-01-31</div>
                        </a>
                        
                        <a href="/p/488/">
                            <div class="related-post-title">为Typecho添加日记功能</div>
                            <div class="post-date">2020-07-29</div>
                        </a>
                        
                        <a href="/p/487/">
                            <div class="related-post-title">为Typecho添加说说功能</div>
                            <div class="post-date">2020-07-29</div>
                        </a>
                        
                        <a href="/p/350/">
                            <div class="related-post-title">谈谈网站防御</div>
                            <div class="post-date">2020-04-07</div>
                        </a>
                        
                    
                </div>
            </div>
        </div>
    </div>
</div>



<div class="comments-container">
    <div class="comments">
        <div class="comments-title">评论</div>
        <div id="utterances-container"></div>
        <script>
            document.addEventListener('DOMContentLoaded', function() {
                const utterancesScript = document.createElement('script');
                utterancesScript.src = 'https://utteranc.es/client.js';
                utterancesScript.setAttribute('repo', 'AHCorn\/Blog-Comments');
                utterancesScript.setAttribute('issue-term', 'pathname');
                utterancesScript.setAttribute('theme', 'github-dark');
                utterancesScript.setAttribute('crossorigin', 'anonymous');
                utterancesScript.setAttribute('async', true);

                const container = document.getElementById('utterances-container');
                container.appendChild(utterancesScript);
            });
        </script>
    </div>
</div>


                </div>
            </div>
        </div>
    </div>
    <footer>
    <div class="footer-card">
        <div class="footer-content">
            <span class="site-name">安和Blog</span>
            <span class="divider">·</span>
            <span class="copyright">© 2025</span>
            <span class="divider">·</span>
            <span class="theme-info">Theme by JianHe</span>
            <span class="divider">·</span>
            <span class="built-info">Built with Hugo</span>
            
            <span class="divider">·</span>
            <span class="runtime" id="runtime"></span>
            
            
        </div>
    </div>
</footer>

<script src="https://cdn.staticfile.org/lazysizes/5.2.0/lazysizes.min.js"></script> 
<script>
document.addEventListener("DOMContentLoaded", function() {
    function updateRuntime() {
        var runtimeElement = document.getElementById('runtime');
        if (runtimeElement) {
            var startTime = new Date('2017-06-30');
            var currentTime = new Date();
            var timeDiff = currentTime - startTime;
            
            var years = Math.floor(timeDiff / (365 * 24 * 60 * 60 * 1000));
            var days = Math.floor((timeDiff % (365 * 24 * 60 * 60 * 1000)) / (24 * 60 * 60 * 1000));
            
            runtimeElement.textContent = `本站已运行 ${years}年${days}天`;
        }
    }
    
    if (document.getElementById('runtime')) {
        updateRuntime();
        setInterval(updateRuntime, 86400000); 
    }
});
</script>

<style>
footer {
    padding: 1rem 0;
    background-color: #262525;
}

.footer-card {
    max-width: 1400px;
    margin: 0 auto;
    padding: 0 1.5rem;
    text-align: center;
}

.footer-content {
    display: flex;
    justify-content: center;
    align-items: center;
    flex-wrap: wrap;
    gap: 0.5rem;
    font-size: 0.9rem;
}

.divider {
    color: rgba(255, 255, 255, 0.3);
}

.site-name {
    font-weight: bold;
    color: rgba(255, 255, 255, 0.9);
}

.built-info, .runtime, .theme-info, .copyright {
    color: rgba(255, 255, 255, 0.71) !important;
}

@media (max-width: 768px) {
    .footer-content {
        flex-direction: column;
        gap: 0.3rem;
    }
    
    .divider {
        display: none;
    }
}
</style> 
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.26.0/prism.min.js"></script>
    <script src="/js/article.js?v=1739556165"></script>
    
    <script src="/js/main.js"></script>
    <script>
    document.addEventListener('DOMContentLoaded', function() {
        const menuToggle = document.querySelector('.mobile-menu-toggle');
        const menu = document.querySelector('.mobile-menu');
        const overlay = document.querySelector('.mobile-menu-overlay');
        const headerAvatar = document.querySelector('.mobile-header img');
        
        function toggleMenu() {
            menuToggle.classList.toggle('active');
            menu.classList.toggle('active');
            overlay.classList.toggle('active');
            document.body.style.overflow = menu.classList.contains('active') ? 'hidden' : '';
            
            
            if (menu.classList.contains('active')) {
                headerAvatar.style.opacity = '0';
                headerAvatar.style.visibility = 'hidden';
            } else {
                headerAvatar.style.opacity = '1';
                headerAvatar.style.visibility = 'visible';
            }
        }
        
        
        if (headerAvatar) {
            headerAvatar.style.transition = 'opacity 0.3s ease, visibility 0.3s ease';
        }
        
        menuToggle.addEventListener('click', toggleMenu);
        overlay.addEventListener('click', toggleMenu);
        
        
        const menuItems = document.querySelectorAll('.mobile-menu-nav a');
        menuItems.forEach(item => {
            item.addEventListener('click', () => {
                toggleMenu();
            });
        });
    });
    </script>
</body>
</html> 